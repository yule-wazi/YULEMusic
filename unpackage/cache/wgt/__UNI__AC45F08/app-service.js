if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}],n=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n};const o=n({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:t}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(e){this.$emit("click",e)}}},[["render",function(t,n,o,a,s,i){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle(i.styleObj),class:e.normalizeClass(["uni-icons",["uniui-"+o.type,o.customPrefix,o.customPrefix?o.type:""]]),onClick:n[0]||(n[0]=(...e)=>i._onClick&&i._onClick(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)}],["__scopeId","data-v-b25a9929"]]);function a(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}function s(e,t){return"string"==typeof e?t:e}const i=(t,n=0)=>(n,o=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,n,o)},r=i("onLoad",2),l=i("onUnload",2),c=i("onReachBottom",2),u=i("onPullDownRefresh",2),d=["{","}"];const m=/^(?:\d)+/,p=/^(?:\w)+/;const f="zh-Hans",h="zh-Hant",g="en",y=Object.prototype.hasOwnProperty,k=(e,t)=>y.call(e,t),v=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,n=d){if(!t)return[e];let o=this._caches[e];return o||(o=function(e,[t,n]){const o=[];let a=0,s="";for(;a<e.length;){let i=e[a++];if(i===t){s&&o.push({type:"text",value:s}),s="";let t="";for(i=e[a++];void 0!==i&&i!==n;)t+=i,i=e[a++];const r=i===n,l=m.test(t)?"list":r&&p.test(t)?"named":"unknown";o.push({value:t,type:l})}else s+=i}return s&&o.push({type:"text",value:s}),o}(e,n),this._caches[e]=o),function(e,t){const n=[];let o=0;const a=Array.isArray(t)?"list":(s=t,null!==s&&"object"==typeof s?"named":"unknown");var s;if("unknown"===a)return n;for(;o<e.length;){const s=e[o];switch(s.type){case"text":n.push(s.value);break;case"list":n.push(t[parseInt(s.value,10)]);break;case"named":"named"===a&&n.push(t[s.value])}o++}return n}(o,t)}};function w(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return f;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?f:e.indexOf("-hant")>-1?h:(n=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==n.indexOf(e)))?h:f);var n;let o=[g,"fr","es"];t&&Object.keys(t).length>0&&(o=Object.keys(t));const a=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,o);return a||void 0}class _{constructor({locale:e,fallbackLocale:t,messages:n,watcher:o,formater:a}){this.locale=g,this.fallbackLocale=g,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=a||v,this.messages=n||{},this.setLocale(e||g),o&&this.watchLocale(o)}setLocale(e){const t=this.locale;this.locale=w(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,n=!0){const o=this.messages[e];o?n?Object.assign(o,t):Object.keys(t).forEach((e=>{k(o,e)||(o[e]=t[e])})):this.messages[e]=t}f(e,t,n){return this.formater.interpolate(e,t,n).join("")}t(e,t,n){let o=this.message;return"string"==typeof t?(t=w(t,this.messages))&&(o=this.messages[t]):n=t,k(o,e)?this.formater.interpolate(o[e],n).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const b={en:{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"},"zh-Hans":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"请输入搜索内容"},"zh-Hant":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"請輸入搜索內容"}},{t:S}=function(e,t={},n,o){if("string"!=typeof e){const n=[t,e];e=n[0],t=n[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():g),"string"!=typeof n&&(n="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||g);const a=new _({locale:e,fallbackLocale:n,messages:t,watcher:o});let s=(e,t)=>{if("function"!=typeof getApp)s=function(e,t){return a.t(e,t)};else{let e=!1;s=function(t,n){const o=getApp().$vm;return o&&(o.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(o,a))),a.t(t,n)}}return s(e,t)};return{i18n:a,f:(e,t,n)=>a.f(e,t,n),t:(e,t)=>s(e,t),add:(e,t,n=!0)=>a.add(e,t,n),watch:e=>a.watchLocale(e),getLocale:()=>a.getLocale(),setLocale:e=>a.setLocale(e)}}(b);const E=n({name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:""},bgColor:{type:String,default:"#F8F8F8"},textColor:{type:String,default:"#000000"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:()=>({show:!1,showSync:!1,searchVal:""}),computed:{cancelTextI18n(){return this.cancelText||S("uni-search-bar.cancel")},placeholderText(){return this.placeholder||S("uni-search-bar.placeholder")}},watch:{modelValue:{immediate:!0,handler(e){this.searchVal=e,e&&(this.show=!0)}},focus:{immediate:!0,handler(e){if(e){if(this.readonly)return;this.show=!0,this.$nextTick((()=>{this.showSync=!0}))}}},searchVal(e,t){this.$emit("input",e),this.$emit("update:modelValue",e)}},methods:{searchClick(){this.readonly||this.show||(this.show=!0,this.$nextTick((()=>{this.showSync=!0})))},clear(){this.searchVal="",this.$nextTick((()=>{this.$emit("clear",{value:""})}))},cancel(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord())},confirm(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})},blur(){plus.key.hideSoftKeybord(),this.$emit("blur",{value:this.searchVal})},emitFocus(e){this.$emit("focus",e.detail)}}},[["render",function(t,n,a,i,r,l){const c=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"uni-searchbar"},[e.createElementVNode("view",{style:e.normalizeStyle({borderRadius:a.radius+"px",backgroundColor:a.bgColor}),class:"uni-searchbar__box",onClick:n[5]||(n[5]=(...e)=>l.searchClick&&l.searchClick(...e))},[e.createElementVNode("view",{class:"uni-searchbar__box-icon-search"},[e.renderSlot(t.$slots,"searchIcon",{},(()=>[e.createVNode(c,{color:"#c0c4cc",size:"18",type:"search"})]),!0)]),r.show||r.searchVal?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,focus:r.showSync,disabled:a.readonly,placeholder:l.placeholderText,maxlength:a.maxlength,class:"uni-searchbar__box-search-input","confirm-type":"search",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>r.searchVal=e),style:e.normalizeStyle({color:a.textColor}),onConfirm:n[1]||(n[1]=(...e)=>l.confirm&&l.confirm(...e)),onBlur:n[2]||(n[2]=(...e)=>l.blur&&l.blur(...e)),onFocus:n[3]||(n[3]=(...e)=>l.emitFocus&&l.emitFocus(...e))},null,44,["focus","disabled","placeholder","maxlength"])),[[e.vModelText,r.searchVal]]):(e.openBlock(),e.createElementBlock("text",{key:1,class:"uni-searchbar__text-placeholder"},e.toDisplayString(a.placeholder),1)),r.show&&("always"===a.clearButton||"auto"===a.clearButton&&""!==r.searchVal)&&!a.readonly?(e.openBlock(),e.createElementBlock("view",{key:2,class:"uni-searchbar__box-icon-clear",onClick:n[4]||(n[4]=(...e)=>l.clear&&l.clear(...e))},[e.renderSlot(t.$slots,"clearIcon",{},(()=>[e.createVNode(c,{color:"#c0c4cc",size:"20",type:"clear"})]),!0)])):e.createCommentVNode("",!0)],4),"always"===a.cancelButton||r.show&&"auto"===a.cancelButton?(e.openBlock(),e.createElementBlock("text",{key:0,onClick:n[6]||(n[6]=(...e)=>l.cancel&&l.cancel(...e)),class:"uni-searchbar__cancel"},e.toDisplayString(l.cancelTextI18n),1)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-2ba324d9"]]),C=n({__name:"areaHeader",props:{title:{type:String,default:""},isMore:{type:Boolean,default:!0}},emits:["moreClkEmit"],setup(t,{emit:n}){const a=n,i=()=>{a("moreClkEmit")};return(n,a)=>{const r=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"areaHeader"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.title),1),t.isMore?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more",onClick:i},[e.createElementVNode("view",{class:"text"},"更多"),e.createVNode(r,{type:"right",size:"20"})])):e.createCommentVNode("",!0)])}}},[["__scopeId","data-v-580e84a8"]]);
/*!
   * pinia v2.1.7
   * (c) 2023 Eduardo San Martin Morote
   * @license MIT
   */
let N;const V=e=>N=e,B=Symbol();function I(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var x,D;(D=x||(x={})).direct="direct",D.patchObject="patch object",D.patchFunction="patch function";const L="undefined"!=typeof window;function P(){const t=e.effectScope(!0),n=t.run((()=>e.ref({})));let o=[],a=[];const s=e.markRaw({install(e){V(s),s._a=e,e.provide(B,s),e.config.globalProperties.$pinia=s,a.forEach((e=>o.push(e))),a=[]},use(e){return this._a?o.push(e):a.push(e),this},_p:o,_a:null,_e:t,_s:new Map,state:n});return s}const $=()=>{};function T(t,n,o,a=$){t.push(n);const s=()=>{const e=t.indexOf(n);e>-1&&(t.splice(e,1),a())};return!o&&e.getCurrentScope()&&e.onScopeDispose(s),s}function A(e,...t){e.slice().forEach((e=>{e(...t)}))}const M=e=>e();function O(t,n){t instanceof Map&&n instanceof Map&&n.forEach(((e,n)=>t.set(n,e))),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const o in n){if(!n.hasOwnProperty(o))continue;const a=n[o],s=t[o];I(s)&&I(a)&&t.hasOwnProperty(o)&&!e.isRef(a)&&!e.isReactive(a)?t[o]=O(s,a):t[o]=a}return t}const R=Symbol();const{assign:z}=Object;function F(t,n,o={},a,s,i){let r;const l=z({actions:{}},o),c={deep:!0};let u,d,m,p=[],f=[];const h=a.state.value[t];let g;function y(n){let o;u=d=!1,"function"==typeof n?(n(a.state.value[t]),o={type:x.patchFunction,storeId:t,events:m}):(O(a.state.value[t],n),o={type:x.patchObject,payload:n,storeId:t,events:m});const s=g=Symbol();e.nextTick().then((()=>{g===s&&(u=!0)})),d=!0,A(p,o,a.state.value[t])}i||h||(a.state.value[t]={}),e.ref({});const k=i?function(){const{state:e}=o,t=e?e():{};this.$patch((e=>{z(e,t)}))}:$;function v(e,n){return function(){V(a);const o=Array.from(arguments),s=[],i=[];function r(e){s.push(e)}function l(e){i.push(e)}let c;A(f,{args:o,name:e,store:_,after:r,onError:l});try{c=n.apply(this&&this.$id===t?this:_,o)}catch(u){throw A(i,u),u}return c instanceof Promise?c.then((e=>(A(s,e),e))).catch((e=>(A(i,e),Promise.reject(e)))):(A(s,c),c)}}const w={_p:a,$id:t,$onAction:T.bind(null,f),$patch:y,$reset:k,$subscribe(n,o={}){const s=T(p,n,o.detached,(()=>i())),i=r.run((()=>e.watch((()=>a.state.value[t]),(e=>{("sync"===o.flush?d:u)&&n({storeId:t,type:x.direct,events:m},e)}),z({},c,o))));return s},$dispose:function(){r.stop(),p=[],f=[],a._s.delete(t)}},_=e.reactive(w);a._s.set(t,_);const b=(a._a&&a._a.runWithContext||M)((()=>a._e.run((()=>(r=e.effectScope()).run(n)))));for(const C in b){const n=b[C];if(e.isRef(n)&&(E=n,!e.isRef(E)||!E.effect)||e.isReactive(n))i||(!h||I(S=n)&&S.hasOwnProperty(R)||(e.isRef(n)?n.value=h[C]:O(n,h[C])),a.state.value[t][C]=n);else if("function"==typeof n){const e=v(C,n);b[C]=e,l.actions[C]=n}}var S,E;return z(_,b),z(e.toRaw(_),b),Object.defineProperty(_,"$state",{get:()=>a.state.value[t],set:e=>{y((t=>{z(t,e)}))}}),a._p.forEach((e=>{z(_,r.run((()=>e({store:_,app:a._a,pinia:a,options:l}))))})),h&&i&&o.hydrate&&o.hydrate(_.$state,h),u=!0,d=!0,_}function j(t,n,o){let a,s;const i="function"==typeof n;function r(t,o){const r=e.hasInjectionContext();(t=t||(r?e.inject(B,null):null))&&V(t),(t=N)._s.has(a)||(i?F(a,n,s,t):function(t,n,o,a){const{state:s,actions:i,getters:r}=n,l=o.state.value[t];let c;c=F(t,(function(){l||(o.state.value[t]=s?s():{});const n=e.toRefs(o.state.value[t]);return z(n,i,Object.keys(r||{}).reduce(((n,a)=>(n[a]=e.markRaw(e.computed((()=>{V(o);const e=o._s.get(t);return r[a].call(e,e)}))),n)),{}))}),n,o,0,!0)}(a,s,t));return t._s.get(a)}return"string"==typeof t?(a=t,s=i?o:n):(s=t,a=t.id),r.$id=a,r}let H="Store";function U(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]=function(){return e(this.$pinia)[n]},t)),{}):Object.keys(t).reduce(((n,o)=>(n[o]=function(){const n=e(this.$pinia),a=t[o];return"function"==typeof a?a.call(this,n):n[a]},n)),{})}const W=U;const q=Object.freeze(Object.defineProperty({__proto__:null,get MutationType(){return x},PiniaVuePlugin:function(e){e.mixin({beforeCreate(){const e=this.$options;if(e.pinia){const t=e.pinia;if(!this._provided){const e={};Object.defineProperty(this,"_provided",{get:()=>e,set:t=>Object.assign(e,t)})}this._provided[B]=t,this.$pinia||(this.$pinia=t),t._a=this,L&&V(t)}else!this.$pinia&&e.parent&&e.parent.$pinia&&(this.$pinia=e.parent.$pinia)},destroyed(){delete this._pStores}})},acceptHMRUpdate:function(e,t){return()=>{}},createPinia:P,defineStore:j,getActivePinia:()=>e.hasInjectionContext()&&e.inject(B)||N,mapActions:function(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]=function(...t){return e(this.$pinia)[n](...t)},t)),{}):Object.keys(t).reduce(((n,o)=>(n[o]=function(...n){return e(this.$pinia)[t[o]](...n)},n)),{})},mapGetters:W,mapState:U,mapStores:function(...e){return e.reduce(((e,t)=>(e[t.$id+H]=function(){return t(this.$pinia)},e)),{})},mapWritableState:function(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]={get(){return e(this.$pinia)[n]},set(t){return e(this.$pinia)[n]=t}},t)),{}):Object.keys(t).reduce(((n,o)=>(n[o]={get(){return e(this.$pinia)[t[o]]},set(n){return e(this.$pinia)[t[o]]=n}},n)),{})},setActivePinia:V,setMapStoreSuffix:function(e){H=e},skipHydrate:function(e){return Object.defineProperty(e,R,{})},storeToRefs:function(t){{t=e.toRaw(t);const n={};for(const o in t){const a=t[o];(e.isRef(a)||e.isReactive(a))&&(n[o]=e.toRef(t,o))}return n}}},Symbol.toStringTag,{value:"Module"}));const X=new class{constructor(e){this.BaseUrl=e}request(e){const{url:t}=e;return new Promise(((n,o)=>{uni.request({...e,url:this.BaseUrl+t,success:e=>n(e),fail:e=>o(e)})}))}get(e){return this.request({method:"GET",...e})}post(e){return this.request({method:"POST",...e})}}("https://163api.qijieya.cn");function Y(e=3778678){return X.get({url:"/playlist/detail",data:{id:e}})}function K(e="全部",t=10,n=0){return X.get({url:"/top/playlist",data:{cat:e,limit:t,offset:n}})}const G=j("music",{state:()=>({bannerList:[],recommendSongs:[],hotMenu:[],menuInfo:{},singerId:0,singerDetail:{},recommendMenu:[],rankingMenuList:[],rankingSongs:[],currentPage:"mainMusic"}),actions:{async getBannerList(){const e=(await function(e=2){return X.get({url:"/banner",data:{type:e}})}()).data.banners;this.bannerList=e.map((e=>e.pic))},getRecommendSongs(){return new Promise((async(e,t)=>{try{const t=await Y();this.recommendSongs=t.data.playlist.tracks,e()}catch(n){t(n)}}))},async getSongMenu(){let e=await K();this.hotMenu=e.data.playlists,e=await K("华语"),this.recommendMenu=e.data.playlists},getMenuInfo(e){return new Promise((async(t,n)=>{try{let n=await Y(e);this.menuInfo=n.data.playlist,t()}catch(o){n(o)}}))},async getRankingList(){const e={originRanking:2884035,newRanking:3779629,uperRanking:19723756};let t=[];for(const o in e){const n=e[o];t.push(Y(n))}const n=await Promise.all(t);this.rankingMenuList=n.map((e=>e.data.playlist))},getRankingSongs(e){return new Promise((async(t,n)=>{try{const n=await Y(e);this.rankingSongs=n.data.playlist.tracks,t()}catch(o){reject(o)}}))}}});function Z(e){return e>=1e8?(e/1e8).toFixed(1)+"亿":e>1e4?(e/1e4).toFixed(1)+"万":e}function J(e){e/=1e3;var t=Math.floor(e/60),n=Math.floor(e%60);return(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)}let Q=null;function ee(){return Q||(Q=uni.createInnerAudioContext()),Q}const te=ee(),ne=j("player",{state:()=>({isFirstPlay:!0,songDetail:{},songList:[],singerId:0,singerDetail:{},songIndex:0,lyrics:"",lyricsList:{},currentIndex:-1,currentLyrics:"",currentTime:0,durationTime:0,timerDuration:0,sliderLength:0,scrollToTop:0,isSlide:!1,isPlaying:!0,isShow:!1,currentOrder:0,timerActive:0,currentOrderName:"order"}),actions:{getSongs(e){return new Promise((async(t,n)=>{try{let n=await(o=e,X.get({url:"/song/detail",data:{ids:o}}));this.songDetail=n.data.songs[0],this.durationTime=n.data.songs[0].dt,a("log","at store/module/player.js:42",n.data),this.singerId=n.data.songs[0].ar[0].id,n=await function(e){return X.get({url:"/lyric",data:{id:e}})}(e),this.lyrics=n.data.lrc.lyric,this.lyricsList=function(e){const t=[],n=e.split("\n"),o=/\[(\d{2}):(\d{1,2}).(\d{2,3})\]/;for(const a of n){if(!a)continue;const e=o.exec(a);if(!e)return[];const n=60*e[1]*1e3+1e3*e[2]+(e[3].length>2?1*e[3]:10*e[3]),s=a.replace(o,"");t.push({time:n,text:s})}return t}(this.lyrics),t()}catch(s){n(s)}var o}))},async playSong(e){this.isPlaying=!0,uni.setKeepScreenOn({keepScreenOn:!0,success:()=>{a("log","at store/module/player.js:61","跳转歌曲，保持常亮")}});const t=await function(e){return new Promise(((t,n)=>{uni.request({url:`https://api.vkeys.cn/v2/music/netease?id=${e}`,success:e=>t(e),fail:e=>n(e)})}))}(e);try{if(200!==t.data.code)throw new Error("HTTP error! status");const e=t.data.data.url;te.src=e}catch(n){a("log","at store/module/player.js:73","报错",n),a("log","at store/module/player.js:74","启动非代理url"),te.src=`https://music.163.com/song/media/outer/url?id=${e}.mp3`}await this.getSongs(e),this.isShow=!0,te.stop(),te.autoplay=!0,te.play()},getSearchSingerInfo(){return new Promise((async e=>{const t=await(n=this.singerId,X.get({url:`/artist/detail?id=${n}`}));var n;this.singerDetail=t.data.data,e()}))},getSingerSongs(){return new Promise((async e=>{var t;e((await(t=this.singerId,X.get({url:`/artists?id=${t}`}))).data.hotSongs)}))}}}),oe=n({__name:"songRecommend",props:{songs:{type:Array,default:[]}},setup(t){const n=t,i=ne();return(r,l)=>{const c=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"songRecommend"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.songs.slice(0,5),((t,o)=>(e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"song",onClick:e=>((e,t)=>{a("log","at components/songRecommend/songRecommend.vue:33","进入歌曲"),i.songList=n.songs,i.songIndex=t,uni.navigateTo({url:`/pages/musicPlayer/musicPlayer?id=${e.id}`})})(t,o)},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("image",{class:"Img",src:t.al.picUrl,mode:""},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"artist"},e.toDisplayString(t.ar[0].name),1)])]),e.createElementVNode("view",null,[e.createVNode(c,{type:"right",size:"25"})])],8,["onClick"])])))),256))])}}},[["__scopeId","data-v-8dd0c923"]]),ae=n({__name:"songMenu",props:{menu:{type:Object,default:{}}},setup(t){const n=t,o=()=>{uni.navigateTo({url:`/pages/mainDetail/mainDetail?type=menu&id=${n.menu.id}`})};return(n,a)=>(e.openBlock(),e.createElementBlock("view",{class:"songMenu",onClick:o},[e.createElementVNode("view",{class:"image"},[e.createElementVNode("image",{class:"Img",src:t.menu.coverImgUrl,mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"playCount"},e.toDisplayString(e.unref(Z)(t.menu.playCount)),1)]),e.createElementVNode("view",{class:"title"},e.toDisplayString(t.menu.name),1)]))}},[["__scopeId","data-v-89ab01ca"]]),se=n({__name:"areaMenu",props:{title:{type:String,default:""},hotSongMenu:{type:Array,default:[]}},setup(t){const n=()=>{uni.navigateTo({url:"/pages/menuMore/menuMore"})};return(o,a)=>{const i=s(e.resolveDynamicComponent("areaHeader"),C),r=s(e.resolveDynamicComponent("songMenu"),ae);return e.openBlock(),e.createElementBlock("view",{class:"hotSongMenu"},[e.createVNode(i,{title:t.title,onMoreClkEmit:n},null,8,["title"]),e.createElementVNode("view",{class:"menuList"},[e.createElementVNode("scroll-view",{class:"scroll-view_H","scroll-x":!0,"show-scrollbar":!1},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.hotSongMenu,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,class:"menuItem"},[e.createVNode(r,{menu:t},null,8,["menu"])])))),128))])])])}}},[["__scopeId","data-v-bac4d8fb"]]),ie=n({__name:"rankingItem",props:{rankingItem:{type:Object,default:{}},rankingName:{type:String,default:""}},setup(t){const n=t,o=()=>{uni.navigateTo({url:`/pages/mainDetail/mainDetail?type=ranking&key=${n.rankingName}&id=${n.rankingItem.id}`})};return(n,a)=>(e.openBlock(),e.createElementBlock("view",{class:"rankingItem",onClick:o},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.rankingItem.name),1),e.createElementVNode("view",{class:"songsList"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(3,(n=>e.createElementVNode("view",{key:n},[e.createElementVNode("view",{class:"song"},[e.createElementVNode("text",null,e.toDisplayString(n)+". ",1),e.createElementVNode("text",null,e.toDisplayString(t.rankingItem.tracks[n-1].name)+" - ",1),e.createElementVNode("text",null,e.toDisplayString(t.rankingItem.tracks[n-1].ar[0].name),1)])]))),64))])]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("view",{class:"Img"},[e.createElementVNode("image",{class:"image",src:t.rankingItem.coverImgUrl,mode:"heightFix"},null,8,["src"])]),e.createElementVNode("view",{class:"playCount"},e.toDisplayString(e.unref(Z)(t.rankingItem.playCount)),1)])]))}},[["__scopeId","data-v-5ee1af4d"]]);class re{constructor(e,t){this.options=e,this.animation=uni.createAnimation({...e}),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let n=this.currentStepAnimates[this.next],o={};if(o=n||{styles:{},config:{}},le.includes(e)){o.styles.transform||(o.styles.transform="");let n="";"rotate"===e&&(n="deg"),o.styles.transform+=`${e}(${t+n}) `}else o.styles[e]=`${t}`;this.currentStepAnimates[this.next]=o}_animateRun(e={},t={}){let n=this.$.$refs.ani.ref;if(n)return new Promise(((o,a)=>{nvueAnimation.transition(n,{styles:e,...t},(e=>{o()}))}))}_nvueNextAnimate(e,t=0,n){let o=e[t];if(o){let{styles:a,config:s}=o;this._animateRun(a,s).then((()=>{t+=1,this._nvueNextAnimate(e,t,n)}))}else this.currentStepAnimates={},"function"==typeof n&&n(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const le=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function ce(e,t){if(t)return clearTimeout(t.timer),new re(e,t)}le.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{re.prototype[e]=function(...t){return this.animation[e](...t),this}}));const ue=n({name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:()=>"fade"},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:0,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e={...this.styles,"transition-duration":this.duration/1e3+"s"},t="";for(let n in e){t+=this.toLine(n)+":"+e[n]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=ce(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){return this.animation?(Object.keys(e).forEach((t=>{const n=e[t];"function"==typeof this.animation[t]&&(Array.isArray(n)?this.animation[t](...n):this.animation[t](n))})),this.animation.step(t),this):this},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.isShow=!0,this.transform=this.styleInit(!1).transform||"",this.opacity=this.styleInit(!1).opacity||0,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=ce(this.config,this),this.tranfromInit(!1).step(),this.animation.run((()=>{this.transform="",this.opacity=this.styleInit(!1).opacity||1,this.$emit("change",{detail:this.isShow})}))}),80)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:"",opacity:1};const n=(e,n)=>{const o=this.animationType(e)[n];n.startsWith("fade")?t.opacity=o:t.transform+=o+" "};return"string"==typeof this.modeClass?n(e,this.modeClass):this.modeClass.forEach((t=>n(e,t))),t},tranfromInit(e){let t=(e,t)=>{let n=null;"fade"===t?n=e?0:1:(n=e?"-100%":"0","zoom-in"===t&&(n=e?.8:1),"zoom-out"===t&&(n=e?1.2:1),"slide-right"===t&&(n=e?"100%":"0"),"slide-bottom"===t&&(n=e?"100%":"0")),this.animation[this.animationMode()[t]](n)};return"string"==typeof this.modeClass?t(e,this.modeClass):this.modeClass.forEach((n=>{t(e,n)})),this.animation},animationType:e=>({fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,n,o,a,s,i){return e.withDirectives((e.openBlock(),e.createElementBlock("view",{ref:"ani",animation:s.animationData,class:e.normalizeClass(o.customClass),style:e.normalizeStyle(i.transformStyles),onClick:n[0]||(n[0]=(...e)=>i.onClick&&i.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])),[[e.vShow,s.isShow]])}]]);const de=n({name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"},borderRadius:{type:String}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0},isMaskClick:{handler:function(e){this.mkclick=e},immediate:!0},showPopup(e){}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{backgroundColor:"transparent",borderRadius:this.borderRadius||"0",position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},computed:{getStyles(){let e={backgroundColor:this.bg};return this.borderRadius,e=Object.assign(e,{borderRadius:this.borderRadius}),e},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted(){(()=>{const{windowWidth:e,windowHeight:t,windowTop:n,safeArea:o,screenHeight:a,safeAreaInsets:s}=uni.getSystemInfoSync();this.popupWidth=e,this.popupHeight=t+(n||0),o&&this.safeArea?this.safeAreaInsets=s.bottom:this.safeAreaInsets=0})()},unmounted(){this.setH5Visible()},activated(){this.setH5Visible(!this.showPopup)},deactivated(){this.setH5Visible(!0)},created(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible(e=!0){},closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){e.stopPropagation(),this.clearPropagation=!0},open(e){if(this.showPopup)return;e&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(e)||(e=this.type),this.config[e]?(this[this.config[e]](),this.$emit("change",{show:!0,type:e})):a("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:310","缺少类型：",e)},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.showPoptrans(),this.messageChild&&"message"===this.type&&this.messageChild.timerClose()})))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||this.showPoptrans()},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center",borderRadius:this.borderRadius||"0"},e||this.showPoptrans()},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||this.showPoptrans()},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||this.showPoptrans()},showPoptrans(){this.$nextTick((()=>{this.showPopup=!0,this.showTrans=!0}))}}},[["render",function(t,n,o,a,i,r){const l=s(e.resolveDynamicComponent("uni-transition"),ue);return i.showPopup?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-popup",[i.popupstyle,r.isDesktop?"fixforpc-z-index":""]])},[e.createElementVNode("view",{onTouchstart:n[1]||(n[1]=(...e)=>r.touchstart&&r.touchstart(...e))},[i.maskShow?(e.openBlock(),e.createBlock(l,{key:"1",name:"mask","mode-class":"fade",styles:i.maskClass,duration:i.duration,show:i.showTrans,onClick:r.onTap},null,8,["styles","duration","show","onClick"])):e.createCommentVNode("",!0),e.createVNode(l,{key:"2","mode-class":i.ani,name:"content",styles:i.transClass,duration:i.duration,show:i.showTrans,onClick:r.onTap},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-popup__wrapper",[i.popupstyle]]),style:e.normalizeStyle(r.getStyles),onClick:n[0]||(n[0]=(...e)=>r.clear&&r.clear(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)])),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],2)):e.createCommentVNode("",!0)}],["__scopeId","data-v-73d3b141"]]),me=n({__name:"musicPopup",setup(t,{expose:n}){const i=ee(),r=ne(),l=e.ref(),c=e.ref(),u=e.computed((()=>{switch(r.currentOrderName){case"order":return"列表循环";case"repeat":return"单曲循环";case"random":return"随机播放";default:return"其他"}})),d=()=>{let e=r.currentOrder;e=(e+1)%3,r.currentOrder=e,r.currentOrderName=["order","repeat","random"][e]},m=(e,t=!1)=>{if(r.songIndex===e&&!t)return;r.songIndex=e;const n=r.songList[e].id;r.playSong(n)},p=[{label:"不开启",value:0},{label:"15分钟",value:9e5},{label:"30分钟",value:18e5},{label:"60分钟",value:36e5},{label:"90分钟",value:54e5}];n({openList:()=>{l.value.open()}});let f=null;const h=()=>{r.timerDuration-=1e3,r.timerDuration<=0&&(a("log","at components/musicPopup/musicPopup.vue:136","时间到了"),i.pause(),r.isPlaying=!1,clearInterval(f),r.timerActive=0,uni.setKeepScreenOn({keepScreenOn:!1,success:()=>{a("log","at components/musicPopup/musicPopup.vue:144","关闭常亮")}}))};return(t,n)=>{const a=s(e.resolveDynamicComponent("uni-icons"),o),i=s(e.resolveDynamicComponent("uni-popup"),de);return e.openBlock(),e.createElementBlock("view",{class:"musicPopup"},[e.createVNode(i,{ref_key:"popup",ref:l,type:"bottom","background-color":"#fff","border-radius":"10px 10px 0 0"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"order"},[e.createElementVNode("button",{class:"orderButton",onClick:d},[e.createElementVNode("image",{src:`/static/list_${e.unref(r).currentOrderName}.png`},null,8,["src"]),e.createElementVNode("text",{class:"text"},e.toDisplayString(u.value),1)]),e.createElementVNode("button",{class:"timer",onClick:n[0]||(n[0]=e=>c.value.open())},[e.createElementVNode("image",{src:"/static/list_countdown.png",mode:""}),e.createElementVNode("text",{class:"text"},"定时关闭")])]),e.createElementVNode("view",{class:"songList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r).songList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["item",{active:n===e.unref(r).songIndex}])},[e.createElementVNode("view",{class:"content",onClick:e=>m(n)},[e.createElementVNode("text",{class:"songName"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:e.normalizeClass(["singer",{active:n===e.unref(r).songIndex}])}," · "+e.toDisplayString(t.ar[0].name),3)],8,["onClick"]),e.createElementVNode("view",{class:"destroy",onClick:e=>(e=>{const t=[...r.songList.slice(0,e),...r.songList.slice(e+1)];r.songList=t,e<r.songIndex?r.songIndex--:e===r.songIndex&&m(e,!0)})(n)},[e.createVNode(a,{type:"closeempty",size:"35rpx",color:"#aaa"})],8,["onClick"])],2)))),256))]),e.createVNode(i,{ref_key:"timerPopup",ref:c,class:"timerPopup",type:"top","background-color":"#fff","border-radius":"0 0 10px 10px"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"title"},"定时关闭"),e.createElementVNode("view",{class:"timerSelector"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(p,((t,n)=>e.createElementVNode("view",{class:"timerItem",onClick:e=>(e=>{f&&clearInterval(f),r.timerActive=e,c.value.close(),r.timerDuration=p[e].value,e&&(f=setInterval(h,1e3))})(n)},[e.createElementVNode("view",{class:"timerContent"},[e.createElementVNode("text",{class:"text"},e.toDisplayString(t.label),1),e.unref(r).timerActive===n&&n?(e.openBlock(),e.createElementBlock("view",{key:0,class:"countdown"},e.toDisplayString(e.unref(J)(e.unref(r).timerDuration)),1)):e.createCommentVNode("",!0)]),n===e.unref(r).timerActive?(e.openBlock(),e.createElementBlock("image",{key:0,class:"timerActive",src:"/static/check_item.png"})):e.createCommentVNode("",!0)],8,["onClick"]))),64))])])),_:1},512)])),_:1},512)])}}},[["__scopeId","data-v-ae6cfd27"]]),pe=ee(),fe=()=>{const e=ne();e.isPlaying?(pe.pause(),e.isPlaying=!1,uni.setKeepScreenOn({keepScreenOn:!1,success:()=>{a("log","at utils/playController.js:15","停止播放歌曲，关闭常亮")}})):(pe.play(),e.isPlaying=!0,uni.setKeepScreenOn({keepScreenOn:!0,success:()=>{a("log","at utils/playController.js:24","继续播放歌曲，保持常亮")}}))},he=n({__name:"playerBar",setup(t){ee();const n=ne(),o=e.ref(null),a=()=>{uni.navigateTo({url:"/pages/musicPlayer/musicPlayer"})},i=e.ref();return(t,r)=>{const l=s(e.resolveDynamicComponent("musicPopup"),me);return e.unref(n).songDetail.al?(e.openBlock(),e.createElementBlock("view",{key:0,class:"playerBar"},[e.createElementVNode("view",{ref_key:"album",ref:o,class:e.normalizeClass(["album",{playing:e.unref(n).isPlaying}]),onClick:a},[e.createElementVNode("image",{class:"albumImg",src:e.unref(n).songDetail.al.picUrl},null,8,["src"])],2),e.createElementVNode("view",{class:"songInfo",onClick:a},e.toDisplayString(e.unref(n).songDetail.name),1),e.createElementVNode("view",{class:"controls"},[e.createElementVNode("image",{class:"pause",src:`/static/play_${e.unref(n).isPlaying?"pause02":"resume02"}.png`,onClick:r[0]||(r[0]=(...t)=>e.unref(fe)&&e.unref(fe)(...t))},null,8,["src"]),e.createElementVNode("image",{class:"list",src:"/static/play_musicList.png",onClick:r[1]||(r[1]=e=>{var t;return null==(t=i.value)?void 0:t.openList()})})]),e.createVNode(l,{ref_key:"musicPopupRef",ref:i},null,512)])):e.createCommentVNode("",!0)}}},[["__scopeId","data-v-d2b3a101"]]),ge=n({__name:"tabBar",setup(t){const n=G(),o=e=>{n.currentPage=e,a("log","at components/tabBar/tabBar.vue:27",n.currentPage);const t=`/pages/${e}/${e}`,o=getCurrentPages();"/"+o[o.length-1].route!==t&&uni.redirectTo({url:t})};return(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"tabBar"},[e.createElementVNode("view",{class:"music",onClick:a[0]||(a[0]=e=>o("mainMusic"))},[e.createElementVNode("image",{src:"mainMusic"===e.unref(n).currentPage?"/static/music_active.png":"/static/music_normal.png",mode:"heightFix"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["text",{active:"mainMusic"===e.unref(n).currentPage}])},"音乐",2)]),e.createElementVNode("view",{class:"video",onClick:a[1]||(a[1]=e=>o("mainVideo"))},[e.createElementVNode("image",{src:"mainVideo"===e.unref(n).currentPage?"/static/video_active.png":"/static/video_normal.png",mode:"heightFix"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["text",{active:"mainVideo"===e.unref(n).currentPage}])},"视频",2)])]))}},[["__scopeId","data-v-cf1789b6"]]),ye={__name:"mainMusic",setup(t){const n=e.ref(!1);e.watch(n,(()=>{n.value&&uni.navigateTo({url:"/pages/mainSearch/mainSearch"})}));const o=G();o.getBannerList(),o.getRecommendSongs();const a=()=>{uni.navigateTo({url:"/pages/mainDetail/mainDetail?type=recommend"})};return o.getSongMenu(),o.getRankingList(),(t,i)=>{const r=s(e.resolveDynamicComponent("uni-search-bar"),E),l=s(e.resolveDynamicComponent("areaHeader"),C),c=s(e.resolveDynamicComponent("songRecommend"),oe),u=s(e.resolveDynamicComponent("areaMenu"),se),d=s(e.resolveDynamicComponent("rankingItem"),ie),m=s(e.resolveDynamicComponent("playerBar"),he),p=s(e.resolveDynamicComponent("tabBar"),ge);return e.openBlock(),e.createElementBlock("view",{class:"mainMusic"},[e.createVNode(r,{radius:"100",placeholder:"请输入搜素关键词",clearButton:"none",cancelButton:"none",onFocus:i[0]||(i[0]=e=>n.value=!0),onBlur:i[1]||(i[1]=e=>n.value=!1)}),e.createElementVNode("view",{class:"swiper-list"},[e.createElementVNode("swiper",{class:"swiper",circular:"","indicator-dots":!0,autoplay:!0,interval:2e3,duration:500},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).bannerList,(t=>(e.openBlock(),e.createElementBlock("swiper-item",null,[e.createElementVNode("image",{class:"image",src:t},null,8,["src"])])))),256))])]),e.createVNode(l,{title:"歌曲推荐",onMoreClkEmit:a}),e.createVNode(c,{songs:e.unref(o).recommendSongs},null,8,["songs"]),e.createVNode(u,{title:"热门歌单",hotSongMenu:e.unref(o).hotMenu},null,8,["hotSongMenu"]),e.createVNode(u,{title:"推荐歌单",hotSongMenu:e.unref(o).recommendMenu},null,8,["hotSongMenu"]),e.unref(o).rankingMenuList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"ranking"},[e.createVNode(l,{title:"巅峰榜",isMore:!1}),e.createElementVNode("view",{class:"rankingList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).rankingMenuList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createVNode(d,{rankingItem:t,rankingName:t.name},null,8,["rankingItem","rankingName"])])))),128))])])):e.createCommentVNode("",!0),e.createVNode(m,{class:"playerBar"}),e.createVNode(p)])}}},ke=n({__name:"searchHot",props:{searchHotList:{type:Array,default:[]}},emits:["searchHotItemEmit"],setup(t,{emit:n}){const o=n;return(n,a)=>{const i=s(e.resolveDynamicComponent("areaHeader"),C);return e.openBlock(),e.createElementBlock("view",{class:"hotSearch"},[e.createVNode(i,{title:"热门搜索",isMore:!1}),e.createElementVNode("view",{class:"hotList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.searchHotList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"item",onClick:e=>(e=>{const t=e.first;o("searchHotItemEmit",t)})(t)},[e.createElementVNode("view",{class:e.normalizeClass({index:!0,active:n<3})},e.toDisplayString(n+1),3),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.first),1)],8,["onClick"])])))),128))])])}}},[["__scopeId","data-v-c3c53384"]]),ve=n({__name:"songItem",props:{songsList:{type:Object,default:{}},isSearch:{type:Boolean,default:!1}},setup(t){const n=t,o=ne();return(s,i)=>(e.openBlock(),e.createElementBlock("view",{class:"songItems"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.songsList,((t,s)=>(e.openBlock(),e.createElementBlock("view",{key:s},[e.createElementVNode("view",{class:"song",onClick:e=>((e,t)=>{a("log","at components/songItem/songItem.vue:38","歌曲点击"),n.isSearch?(a("log","at components/songItem/songItem.vue:40","歌曲搜索"),o.songList=[...o.songList.slice(0,o.songIndex+1),e,...o.songList.slice(o.songIndex+1)],o.songIndex++):(o.songList=n.songsList,o.songIndex=t),uni.navigateTo({url:`/pages/musicPlayer/musicPlayer?id=${e.id}`})})(t,s)},[e.createElementVNode("view",{class:"index"},e.toDisplayString(s+1),1),e.createElementVNode("view",{class:"songItem"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"info"},[e.createElementVNode("image",{class:"sq",src:"/static/sq_icon.png",mode:"widthFix"}),e.createElementVNode("view",{class:"artist"},e.toDisplayString(t.ar[0].name),1)])])],8,["onClick"])])))),128))]))}},[["__scopeId","data-v-4c191ef2"]]),we={__name:"searchResult",props:{songs:{type:Array,default:[]}},setup:t=>(n,o)=>{const a=s(e.resolveDynamicComponent("areaHeader"),C),i=s(e.resolveDynamicComponent("songItem"),ve);return e.openBlock(),e.createElementBlock("view",{class:"searchResult"},[e.createVNode(a,{title:"单曲",isMore:!1}),e.createVNode(i,{songsList:t.songs,isSearch:!0},null,8,["songsList"])])}},_e=n({__name:"searchSuggest",props:{searchSuggest:{type:Array,default:[]}},emits:["searchSuggestItemEmit"],setup(t,{emit:n}){const a=n;return(n,i)=>{const r=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"searchSuggest"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.searchSuggest,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"item",onClick:e=>{return n=t.name,void a("searchSuggestItemEmit",n);var n}},[e.createElementVNode("view",{class:"icon"},[e.createVNode(r,{type:"search",size:"30"})]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)],8,["onClick"])])))),128))])}}},[["__scopeId","data-v-6d0cdc0f"]]),be={__name:"mainSearch",setup(t){r((()=>{o()}));const n=e.reactive({searchHotList:[],searchSuggest:[],searchSongs:[],keyword:"",isFocus:!1}),o=async()=>{const e=(await X.get({url:"/search/hot"})).data.result.hots;n.searchHotList=e},a=e=>{n.keyword=e,m()},i=()=>{n.isFocus=!0,n.searchSongs=[],n.keyword=""},l=()=>{n.isFocus=!1},u=async e=>{if(n.keyword=e,!e)return void(n.searchSuggest=[]);var t;const o=(await(t=e,X.get({url:`/search/suggest?keywords=${t}`}))).data.result.songs;n.searchSuggest=o??[]},d=e=>{n.keyword=e,m()},m=async(e=!1,t=0)=>{const o=n.keyword;if(!o)return;const a=await function(e,t){return X.get({url:`/cloudsearch?keywords=${e}&offset=${t}`})}(o,t),s=a.data.result.songs;e?n.searchSongs.push(...s):n.searchSongs=s};return c((()=>{m(!0,n.searchSongs.length)})),(t,o)=>{const r=s(e.resolveDynamicComponent("uni-search-bar"),E),c=s(e.resolveDynamicComponent("searchHot"),ke),p=s(e.resolveDynamicComponent("searchResult"),we),f=s(e.resolveDynamicComponent("searchSuggest"),_e),h=s(e.resolveDynamicComponent("playerBar"),he);return e.openBlock(),e.createElementBlock("view",{class:"mainSearch"},[e.createVNode(r,{placeholder:"请输入搜索关键词",onInput:u,onFocus:i,onBlur:l,onConfirm:m}),0===n.searchSuggest.length&&0===n.searchSongs.length?(e.openBlock(),e.createBlock(c,{key:0,searchHotList:n.searchHotList,onSearchHotItemEmit:a},null,8,["searchHotList"])):e.createCommentVNode("",!0),!n.isFocus&&n.searchSongs.length>0?(e.openBlock(),e.createBlock(p,{key:1,songs:n.searchSongs},null,8,["songs"])):(e.openBlock(),e.createBlock(f,{key:2,searchSuggest:n.searchSuggest,onSearchSuggestItemEmit:d},null,8,["searchSuggest"])),e.createVNode(h)])}}},Se=n({__name:"menuHeader",props:{menuInfo:{type:Object,default:{}}},setup:t=>(n,a)=>{const i=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"menuHeader"},[e.createElementVNode("view",{class:"bgImg"},[e.createElementVNode("image",{class:"image",src:t.menuInfo.coverImgUrl,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("image",{class:"image",src:t.menuInfo.coverImgUrl,mode:""},null,8,["src"])]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.menuInfo.description),1),e.createElementVNode("view",{class:"creator"},[e.createElementVNode("image",{class:"creatorImage",src:t.menuInfo.creator.avatarUrl,mode:""},null,8,["src"]),e.createElementVNode("view",{class:"creatorName"},e.toDisplayString(t.menuInfo.creator.nickname),1)]),e.createElementVNode("view",{class:"desc"},"简介："+e.toDisplayString(t.menuInfo.description),1)])]),e.createElementVNode("view",{class:"other"},[e.createElementVNode("view",{class:"subCount"},[e.createVNode(i,{type:"heart",size:"20",color:"#fff"}),e.createElementVNode("view",{class:"count"},e.toDisplayString(t.menuInfo.subscribedCount),1)]),e.createElementVNode("view",{class:"shareCount"},[e.createVNode(i,{type:"undo",size:"20",color:"#fff"}),e.createElementVNode("view",{class:"count"},e.toDisplayString(t.menuInfo.shareCount),1)])])])])}},[["__scopeId","data-v-a78613ff"]]),Ee=n({__name:"singerInfo",props:{singerInfo:{type:Object,default:{}}},setup(t){const n=t,o=e.reactive({bgImg:"",leftImg:"",rightImg:"",nikeName:"",name:""});return n.singerInfo.user?(o.bgImg=n.singerInfo.user.backgroundUrl,o.leftImg=n.singerInfo.user.avatarUrl,o.rightImg=n.singerInfo.artist.cover,o.nikeName=n.singerInfo.user.nickname,o.name=n.singerInfo.artist.name):(o.bgImg=n.singerInfo.artist.avatar,o.leftImg=n.singerInfo.artist.avatar,o.rightImg=n.singerInfo.artist.cover,o.nikeName=n.singerInfo.artist.name,o.name=n.singerInfo.artist.name),(n,a)=>(e.openBlock(),e.createElementBlock("view",{class:"menuHeader"},[e.createElementVNode("view",{class:"bgImg"},[e.createElementVNode("image",{class:"image",src:o.bgImg,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("image",{class:"image",src:o.leftImg,mode:""},null,8,["src"])]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(o.nikeName),1),e.createElementVNode("view",{class:"creator"},[e.createElementVNode("image",{class:"creatorImage",src:o.rightImg,mode:""},null,8,["src"]),e.createElementVNode("view",{class:"creatorName"},e.toDisplayString(o.name),1)]),e.createElementVNode("view",{class:"desc"},"简介："+e.toDisplayString(t.singerInfo.artist.briefDesc),1)])])])]))}},[["__scopeId","data-v-a63dfba5"]]),Ce={__name:"mainDetail",setup(t){const n=e.reactive({songsInfo:{},songs:[],type:"",key:"",id:0}),o=G(),i=ne();return r((async e=>{a("log","at pages/mainDetail/mainDetail.vue:29","options=",e),e.type&&(n.type=e.type),"recommend"===e.type?(uni.setNavigationBarTitle({title:"热歌榜"}),await o.getRecommendSongs(),n.songs=o.recommendSongs):"menu"===e.type?(uni.setNavigationBarTitle({title:"歌单"}),await o.getMenuInfo(e.id),n.songsInfo=o.menuInfo,n.songs=o.menuInfo.tracks):"ranking"===e.type?(uni.setNavigationBarTitle({title:e.key??""}),await o.getRankingSongs(e.id),n.songs=o.rankingSongs):"singer"===e.type&&(a("log","at pages/mainDetail/mainDetail.vue:47","搜索歌手歌单"),uni.setNavigationBarTitle({title:`${i.singerDetail.artist.name}`}),n.songs=await i.getSingerSongs())})),(t,o)=>{const a=s(e.resolveDynamicComponent("menuHeader"),Se),r=s(e.resolveDynamicComponent("singerInfo"),Ee),l=s(e.resolveDynamicComponent("songItem"),ve),c=s(e.resolveDynamicComponent("playerBar"),he);return e.openBlock(),e.createElementBlock("view",{class:"mainDetail"},["menu"===n.type&&n.songsInfo.coverImgUrl?(e.openBlock(),e.createBlock(a,{key:0,menuInfo:n.songsInfo},null,8,["menuInfo"])):"singer"===n.type?(e.openBlock(),e.createBlock(r,{key:1,singerInfo:e.unref(i).singerDetail},null,8,["singerInfo"])):e.createCommentVNode("",!0),e.createVNode(l,{songsList:n.songs},null,8,["songsList"]),e.createVNode(c)])}}},Ne={__name:"menuMore",setup(t){const n=e.ref([]);r((()=>{o()}));const o=async()=>{const e=await X.get({url:"/playlist/hot"}),t=[];for(const n of e.data.tags)t.push(K(n.name));Promise.all(t).then((e=>{n.value=e}))};return(t,o)=>{const a=s(e.resolveDynamicComponent("areaHeader"),C),i=s(e.resolveDynamicComponent("songMenu"),ae),r=s(e.resolveDynamicComponent("playerBar"),he);return e.openBlock(),e.createElementBlock("view",{class:"menuMore"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"menuCard"},[e.createVNode(a,{title:t.data.cat,isMore:!1},null,8,["title"]),e.createElementVNode("view",{class:"menuList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data.playlists,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,class:"menu"},[e.createVNode(i,{menu:t},null,8,["menu"])])))),128))])])])))),128)),e.createVNode(r)])}}};const Ve=e=>"number"==typeof e?e+"px":e;const Be=n({name:"UniNavBar",components:{statusBar:n({name:"UniStatusBar",data:()=>({statusBarHeight:uni.getSystemInfoSync().statusBarHeight+"px"})},[["render",function(t,n,o,a,s,i){return e.openBlock(),e.createElementBlock("view",{style:e.normalizeStyle({height:s.statusBarHeight}),class:"uni-status-bar"},[e.renderSlot(t.$slots,"default",{},void 0,!0)],4)}],["__scopeId","data-v-4539ef65"]])},emits:["clickLeft","clickRight","clickTitle"],props:{dark:{type:Boolean,default:!1},title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:""},backgroundColor:{type:String,default:""},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},height:{type:[Number,String],default:44},leftWidth:{type:[Number,String],default:60},rightWidth:{type:[Number,String],default:60},showMenuButtonWidth:{type:Boolean,default:!1},stat:{type:[Boolean,String],default:""}},data:()=>({navWidth:"auto"}),computed:{themeBgColor(){return this.dark?this.backgroundColor?this.backgroundColor:this.dark?"#333":"#FFF":this.backgroundColor||"#FFF"},themeColor(){return this.dark?this.color?this.color:this.dark?"#fff":"#333":this.color||"#333"},navbarHeight(){return this.fixed&&0===this.height?Ve(44):Ve(this.height)},leftIconWidth(){return Ve(this.leftWidth)},rightIconWidth(){return Ve(this.rightWidth)}},created(){},mounted(){uni.report&&this.stat&&""!==this.title&&uni.report("title",this.title)},methods:{onClickLeft(){this.$emit("clickLeft")},onClickRight(){this.$emit("clickRight")},onClickTitle(){this.$emit("clickTitle")}}},[["render",function(t,n,a,i,r,l){const c=e.resolveComponent("status-bar"),u=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-navbar",{"uni-dark":a.dark,"uni-nvue-fixed":a.fixed}])},[e.createElementVNode("view",{class:e.normalizeClass(["uni-navbar__content",{"uni-navbar--fixed":a.fixed,"uni-navbar--shadow":a.shadow,"uni-navbar--border":a.border}]),style:e.normalizeStyle({"background-color":l.themeBgColor})},[a.statusBar?(e.openBlock(),e.createBlock(c,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{style:e.normalizeStyle({color:l.themeColor,backgroundColor:l.themeBgColor,height:l.navbarHeight,width:a.showMenuButtonWidth?r.navWidth+"px":"100%"}),class:"uni-navbar__header"},[e.createElementVNode("view",{onClick:n[0]||(n[0]=(...e)=>l.onClickLeft&&l.onClickLeft(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-left",style:e.normalizeStyle({width:l.leftIconWidth})},[e.renderSlot(t.$slots,"left",{},(()=>[a.leftIcon.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__content_view"},[e.createVNode(u,{color:l.themeColor,type:a.leftIcon,size:"20"},null,8,["color","type"])])):e.createCommentVNode("",!0),a.leftText.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass([{"uni-navbar-btn-icon-left":!a.leftIcon.length>0},"uni-navbar-btn-text"])},[e.createElementVNode("text",{style:e.normalizeStyle({color:l.themeColor,fontSize:"12px"})},e.toDisplayString(a.leftText),5)],2)):e.createCommentVNode("",!0)]),!0)],4),e.createElementVNode("view",{class:"uni-navbar__header-container",onClick:n[1]||(n[1]=(...e)=>l.onClickTitle&&l.onClickTitle(...e))},[e.renderSlot(t.$slots,"default",{},(()=>[a.title.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__header-container-inner"},[e.createElementVNode("text",{class:"uni-nav-bar-text uni-ellipsis-1",style:e.normalizeStyle({color:l.themeColor})},e.toDisplayString(a.title),5)])):e.createCommentVNode("",!0)]),!0)]),e.createElementVNode("view",{onClick:n[2]||(n[2]=(...e)=>l.onClickRight&&l.onClickRight(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-right",style:e.normalizeStyle({width:l.rightIconWidth})},[e.renderSlot(t.$slots,"right",{},(()=>[a.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createVNode(u,{color:l.themeColor,type:a.rightIcon,size:"22"},null,8,["color","type"])])):e.createCommentVNode("",!0),a.rightText.length&&!a.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-navbar-btn-text"},[e.createElementVNode("text",{class:"uni-nav-bar-right-text",style:e.normalizeStyle({color:l.themeColor})},e.toDisplayString(a.rightText),5)])):e.createCommentVNode("",!0)]),!0)],4)],4)],6),a.fixed?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__placeholder"},[a.statusBar?(e.openBlock(),e.createBlock(c,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"uni-navbar__placeholder-view",style:e.normalizeStyle({height:l.navbarHeight})},null,4)])):e.createCommentVNode("",!0)],2)}],["__scopeId","data-v-18fbea83"]]),Ie={__name:"musicPlayer",setup(t){const n=ee(),o=e.reactive({id:0,titleConfig:["歌曲","歌词"],contentHeight:100,currentPage:0}),i=ne();let c=null;r((async e=>{i.isFirstPlay&&(i.isFirstPlay=!1,n.onEnded(u));const t=e.id,a=uni.getSystemInfoSync().windowHeight;o.contentHeight=a-44,t?i.playSong(t):i.isShow=!0,c=setInterval(h,500)}));const u=()=>{p()},d=()=>{p(!1)},m=e.ref(null),p=(e=!0)=>{let t=i.songIndex;const n=i.songList.length;switch(i.currentOrder){case 0:t=e?t+1:t-1,t=(t+n)%n;break;case 1:break;case 2:t=Math.floor(Math.random()*n)}i.songIndex=t;const o=i.songList[t].id;i.playSong(o)},f=()=>{let e=i.currentOrder;e=(e+1)%3,i.currentOrder=e,i.currentOrderName=["order","repeat","random"][e]},h=()=>{if(i.isSlide)return;const e=1e3*n.currentTime;i.currentTime=e;const t=i.currentTime/i.durationTime*100;i.sliderLength=t;const o=i.lyricsList;let a=o.length-1;for(let s=0;s<o.length;s++)if(o[s].time>1e3*n.currentTime){a=s-1;break}if(i.currentIndex!==a&&(i.currentIndex=a,o[a])){const e=o[a].text??"";i.currentLyrics=e,i.scrollToTop=40*a}},g=()=>{uni.navigateBack()},y=e=>{const t=e.detail.value/100*i.durationTime;n.seek(t/1e3),i.currentTime=t,i.isSlide=!1},k=e=>{i.isSlide=!0},v=e=>{o.currentPage=e.detail.current},w=async()=>{a("log","at pages/musicPlayer/musicPlayer.vue:201","搜索歌手",i.singerId),await i.getSearchSingerInfo(),uni.redirectTo({url:`/pages/mainDetail/mainDetail?type=singer&id=${i.singerId}`})};return l((()=>{clearInterval(c)})),(t,n)=>{const a=s(e.resolveDynamicComponent("uni-nav-bar"),Be),r=s(e.resolveDynamicComponent("musicPopup"),me);return e.unref(i).isShow?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",{class:"musicPlayer"},[e.createElementVNode("image",{class:"backgroundImg",src:e.unref(i).songDetail.al.picUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"backgroundMask"}),e.createVNode(a,{"background-color":"transparent",class:"navBar",border:!1,"left-icon":"left",color:"#fff",onClickLeft:g},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"center"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.titleConfig,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"text"},[e.createElementVNode("text",{class:e.normalizeClass({active:o.currentPage===n}),onClick:e=>o.currentPage=n},e.toDisplayString(t),11,["onClick"]),0===n?(e.openBlock(),e.createElementBlock("text",{key:0,class:"line"},"|")):e.createCommentVNode("",!0)])])))),128))])])),_:1}),e.createElementVNode("swiper",{onChange:v,style:e.normalizeStyle(`height: ${o.contentHeight}px;`),current:o.currentPage},[e.createElementVNode("swiper-item",{class:"musicPage"},[e.createElementVNode("view",{class:"album"},[e.createElementVNode("image",{class:"albumImg",src:e.unref(i).songDetail.al.picUrl,mode:"widthFix"},null,8,["src"])]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(e.unref(i).songDetail.name),1),e.createElementVNode("view",{class:"artist",onClick:w},e.toDisplayString(e.unref(i).songDetail.ar[0].name),1)]),e.createElementVNode("view",{class:"lyrics"},e.toDisplayString(e.unref(i).currentLyrics),1),e.createElementVNode("slider",{class:"slider","block-size":"15",value:e.unref(i).sliderLength,onChange:y,onChanging:k},null,40,["value"]),e.createElementVNode("view",{class:"songTime"},[e.createElementVNode("view",{class:"start"},e.toDisplayString(e.unref(J)(e.unref(i).currentTime)),1),e.createElementVNode("view",{class:"end"},e.toDisplayString(e.unref(J)(e.unref(i).durationTime)),1)]),e.createElementVNode("view",{class:"controls"},[e.createElementVNode("image",{class:"order",src:`/static/play_${e.unref(i).currentOrderName}.png`,onClick:f},null,8,["src"]),e.createElementVNode("image",{class:"prev",src:"/static/play_prev.png",onClick:d}),e.createElementVNode("image",{class:"pause",src:`/static/play_${e.unref(i).isPlaying?"pause":"resume"}.png`,onClick:n[0]||(n[0]=(...t)=>e.unref(fe)&&e.unref(fe)(...t))},null,8,["src"]),e.createElementVNode("image",{class:"next",src:"/static/play_next.png",onClick:u}),e.createElementVNode("image",{class:"list",src:"/static/play_music.png",onClick:n[1]||(n[1]=e=>{var t;return null==(t=m.value)?void 0:t.openList()})})])]),e.createElementVNode("swiper-item",{class:"musicLyrics"},[e.createElementVNode("scroll-view",{class:"lyrics","scroll-y":"","scroll-top":e.unref(i).scrollToTop,"scroll-with-animation":"","show-scrollbar":"false"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i).lyricsList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:e.normalizeClass("lyricItem "+(n===e.unref(i).currentIndex?"active":"")),style:e.normalizeStyle(`margin-top: ${0===n?o.contentHeight-40:0}rpx; \n\t\t\t\t\t\t\t\tpadding-bottom: ${n===e.unref(i).lyricsList.length-1?o.contentHeight+40:0}rpx;`)},e.toDisplayString(t.text),7)])))),128))],8,["scroll-top"])])],44,["current"]),e.createVNode(r,{ref_key:"musicPopupRef",ref:m},null,512)])])):e.createCommentVNode("",!0)}}},xe=n({__name:"videoItem",props:{item:{type:Object,default:{}}},setup(t){const n=t,o=()=>{uni.navigateTo({url:`/pages/videoDetail/videoDetail?id=${n.item.id}`})};return(n,a)=>(e.openBlock(),e.createElementBlock("view",{class:"videoItem",onClick:o},[e.createElementVNode("view",{class:"Img"},[e.createElementVNode("image",{class:"img",src:t.item.cover,mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"viewCount"},e.toDisplayString(e.unref(Z)(t.item.playCount)),1),e.createElementVNode("view",{class:"duration"},e.toDisplayString(e.unref(J)(t.item.mv.videos[0].duration)),1)])]),e.createElementVNode("view",{class:"desc"},e.toDisplayString(t.item.name)+" - "+e.toDisplayString(t.item.artistName),1)]))}},[["__scopeId","data-v-152db20e"]]);const De={__name:"mainVideo",setup(t){const n=e.reactive({videoList:[],offset:0,hasMore:!0}),o=async e=>{const t=await function(e=0,t=20){return X.get({url:"/top/mv",data:{limit:t,offset:e}})}(e),o=[...n.videoList,...t.data.data];n.videoList=o,n.offset=n.videoList.length,n.hasMore=t.data.hasMore};return r((()=>{o(n.offset)})),c((()=>{n.hasMore&&o(n.offset)})),u((async()=>{n.videoList=[],n.offset=0,n.hasMore=!0,await o(n.offset),uni.stopPullDownRefresh(),a("log","at pages/mainVideo/mainVideo.vue:43","下拉刷新")})),(t,o)=>{const a=s(e.resolveDynamicComponent("videoItem"),xe),i=s(e.resolveDynamicComponent("tabBar"),ge);return e.openBlock(),e.createElementBlock("view",{class:"video"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.videoList,((t,n)=>(e.openBlock(),e.createBlock(a,{key:n,class:"videoItem",item:t},null,8,["item"])))),128)),e.createVNode(i)])}}},Le={__name:"videoDetail",setup(t){const n=e.reactive({id:-1,url:"",videoInfo:{}});a("log","at pages/videoDetail/videoDetail.vue:39","data.videoInfo.artists=",n.videoInfo.artists),r((async e=>{const t=e.id;n.id=t,o(),await s(),i(),a("log","at pages/videoDetail/videoDetail.vue:46",n),uni.setNavigationBarTitle({title:n.videoInfo.name})}));const o=async()=>{const e=await(t=n.id,X.get({url:"/mv/url",data:{id:t}}));var t;n.url=e.data.data.url},s=async()=>new Promise((async e=>{const t=await(o=n.id,X.get({url:"/mv/detail",data:{mvid:o}}));var o;n.videoInfo=t.data.data,e(t)})),i=async()=>{var e;await(e=n.id,X.get({url:"/related/allvideo",data:{id:e}}))};return(t,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("video",{class:"video",src:n.url,autoplay:""},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(n.videoInfo.name),1),e.createElementVNode("view",{class:"author"},e.toDisplayString(n.videoInfo.artistName),1),e.createElementVNode("view",{class:"other"},[e.createElementVNode("view",{class:"playCount"},e.toDisplayString(e.unref(Z)(n.videoInfo.playCount))+"次播放-",1),e.createElementVNode("view",{class:"subCount"},e.toDisplayString(e.unref(Z)(n.videoInfo.subCount))+"次收藏-",1),e.createElementVNode("view",{class:"date"},e.toDisplayString(n.videoInfo.publishTime),1)]),e.createElementVNode("view",{class:"singerList"},[e.createElementVNode("view",{class:"artists"},"歌手列表"),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.videoInfo.artists,((t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"singer",key:n},[e.createElementVNode("view",{class:"Img"},[e.createElementVNode("image",{src:t.img1v1Url,mode:""},null,8,["src"])]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)])))),128))])])])],64))}};__definePage("pages/mainMusic/mainMusic",ye),__definePage("pages/mainSearch/mainSearch",be),__definePage("pages/mainDetail/mainDetail",Ce),__definePage("pages/menuMore/menuMore",Ne),__definePage("pages/musicPlayer/musicPlayer",Ie),__definePage("pages/mainVideo/mainVideo",De),__definePage("pages/videoDetail/videoDetail",Le);const Pe={onLaunch:function(){a("log","at App.vue:4","App Launch")},onShow:function(){a("log","at App.vue:7","App Show")},onHide:function(){a("log","at App.vue:10","App Hide")}};const{app:$e,Vuex:Te,Pinia:Ae}=function(){const t=e.createVueApp(Pe);return t.use(P()),{app:t,Pinia:q}}();uni.Vuex=Te,uni.Pinia=Ae,$e.provide("__globalStyles",__uniConfig.styles),$e._component.mpType="app",$e._component.render=()=>{},$e.mount("#app")}(Vue);
