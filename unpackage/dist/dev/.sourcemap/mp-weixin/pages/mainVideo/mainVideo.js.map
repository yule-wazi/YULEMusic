{"version":3,"file":"mainVideo.js","sources":["pages/mainVideo/mainVideo.vue","../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFpblZpZGVvL21haW5WaWRlby52dWU"],"sourcesContent":["<template>\n\t<view class=\"video\">\r\n\t\t<videoItem v-for=\"(item, index) in data.videoList\" :key=\"index\" class=\"videoItem\" :item=\"item\"/>\r\n\t\t<tabBar />\r\n\t</view>\n</template>\n\n<script setup>\r\nimport { reactive } from 'vue'\nimport { onLoad, onReachBottom, onPullDownRefresh } from '@dcloudio/uni-app'\r\nimport { fetchVideoList } from '../../service/module/video'\nconst data = reactive({\n\tvideoList: [],\n\toffset: 0,\n\thasMore: true\n})\r\n// 获取数据\nconst getTopVideo = async(offset) => {\n\tconst res = await fetchVideoList(offset)\r\n\tconst newList = [ ...data.videoList, ...res.data.data]\r\n\tdata.videoList = newList\n\tdata.offset = data.videoList.length\n\tdata.hasMore = res.data.hasMore\n}\nonLoad(() => {\r\n\tgetTopVideo(data.offset)\r\n})\r\n\r\n\r\n// 上拉加载\r\nonReachBottom(() => {\r\n\tif (data.hasMore) {\r\n\t\tgetTopVideo(data.offset)\r\n\t}\r\n})\r\n// 下拉刷新\r\nonPullDownRefresh(async () => {\r\n\tdata.videoList = []\r\n\tdata.offset = 0\r\n\tdata.hasMore = true\r\n\tawait getTopVideo(data.offset)\r\n\tuni.stopPullDownRefresh();\r\n\tconsole.log('下拉刷新');\r\n})\r\n\r\n\r\n</script>\n\n<style lang=\"scss\">\n.video {\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: space-around;\r\n\t.videoItem {\r\n\t\twidth: 48%;\r\n\t\tmargin: 10rpx 5rpx;\r\n\t}\n}\n</style>\n","import MiniProgramPage from 'D:/uniApp学习/YULEMusic/pages/mainVideo/mainVideo.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","fetchVideoList","onLoad","onReachBottom","onPullDownRefresh","uni","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;AAWA,UAAM,OAAOA,cAAAA,SAAS;AAAA,MACrB,WAAW,CAAE;AAAA,MACb,QAAQ;AAAA,MACR,SAAS;AAAA,IACV,CAAC;AAED,UAAM,cAAc,OAAM,WAAW;AACpC,YAAM,MAAM,MAAMC,qBAAc,eAAC,MAAM;AACvC,YAAM,UAAU,CAAE,GAAG,KAAK,WAAW,GAAG,IAAI,KAAK,IAAI;AACrD,WAAK,YAAY;AACjB,WAAK,SAAS,KAAK,UAAU;AAC7B,WAAK,UAAU,IAAI,KAAK;AAAA,IACzB;AACAC,kBAAAA,OAAO,MAAM;AACZ,kBAAY,KAAK,MAAM;AAAA,IACxB,CAAC;AAIDC,kBAAAA,cAAc,MAAM;AACnB,UAAI,KAAK,SAAS;AACjB,oBAAY,KAAK,MAAM;AAAA,MACvB;AAAA,IACF,CAAC;AAEDC,kBAAAA,kBAAkB,YAAY;AAC7B,WAAK,YAAY,CAAE;AACnB,WAAK,SAAS;AACd,WAAK,UAAU;AACf,YAAM,YAAY,KAAK,MAAM;AAC7BC,oBAAG,MAAC,oBAAmB;AACvBA,oBAAAA,MAAA,MAAA,OAAA,uCAAY,MAAM;AAAA,IACnB,CAAC;;;;;;;;;;;;;;;;AC1CD,GAAG,WAAWC,SAAe;"}