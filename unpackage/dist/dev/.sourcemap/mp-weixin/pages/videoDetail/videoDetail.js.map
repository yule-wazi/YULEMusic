{"version":3,"file":"videoDetail.js","sources":["pages/videoDetail/videoDetail.vue","../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdmlkZW9EZXRhaWwvdmlkZW9EZXRhaWwudnVl"],"sourcesContent":["<template>\n\t<video class=\"video\" \r\n\t\t:src=\"data.url\" \r\n\t\tautoplay \r\n\t/>\r\n\t<view class=\"info\">\r\n\t\t<view class=\"title\">{{data.videoInfo.name}}</view>\r\n\t\t<view class=\"author\">{{data.videoInfo.artistName}}</view>\r\n\t\t<view class=\"other\">\r\n\t\t\t<view class=\"playCount\">{{formatViewCount(data.videoInfo.playCount)}}次播放-</view>\r\n\t\t\t<view class=\"subCount\">{{formatViewCount(data.videoInfo.subCount)}}次收藏-</view>\r\n\t\t\t<view class=\"date\">{{data.videoInfo.publishTime}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"singerList\">\r\n\t\t\t<view class=\"artists\">歌手列表</view>\r\n\t\t\t<view class=\"list\">\r\n\t\t\t\t<view class=\"singer\" v-for=\"(item, index) in data.videoInfo.artists\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"Img\">\r\n\t\t\t\t\t\t<image :src=\"item.img1v1Url\" mode=\"\"/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"name\">{{item.name}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script setup>\r\nimport { reactive } from 'vue'\nimport { onLoad } from '@dcloudio/uni-app'\r\nimport { fetchRelatedVideo, fetchVideoInfo, fetchVideoUrl } from '@/service/module/video'\nimport { formatViewCount } from '@/utils/formatView.js'\n\nconst data = reactive({\n\tid: -1,\r\n\turl: '',\r\n\tvideoInfo: {}\n})\t\r\nonLoad(async (option) => {\n\tconst id = option.id\n\tdata.id = id\n\tgetVideoUrl()\n\tawait getVideoInfo()\n\tgetRelatedVideo()\r\n\tconsole.log(data);\r\n\tuni.setNavigationBarTitle({\r\n\t\ttitle: data.videoInfo.name\r\n\t})\n})\n// 获取MVurl\nconst getVideoUrl = async() => {\n\tconst res = await fetchVideoUrl(data.id)\n\tdata.url = res.data.data.url\n}\n// 获取MV信息\nconst getVideoInfo = async() => {\n\treturn new Promise(async (resolve) => {\r\n\t\tconst res = await fetchVideoInfo(data.id)\r\n\t\tdata.videoInfo = res.data.data\r\n\t\tresolve(res)\r\n\t})\n}\n// 获取MV关联视频\nconst getRelatedVideo = async() => {\n\tconst res = await fetchRelatedVideo(data.id)\n}\n</script>\n\n<style lang=\"scss\">\n.video {\n\twidth: 100%;\r\n}\r\n.info {\r\n\tpadding: 30rpx;\r\n\t.title {\r\n\t\tfont-size: 50rpx;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\t.author {\r\n\t\tmargin-top: 10rpx;\r\n\t\tfont-size: 35rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t.other {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tmargin-top: 10rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t.singerList {\r\n\t\t.artists {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tmargin:20rpx 0;\r\n\t\t\tcolor: #666;\r\n\t\t}\r\n\t\t.list{\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tmargin-right: 40rpx;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tjustify-content: flex-start;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t\t.singer {\r\n\t\t\twidth: 20%;\r\n\t\t\tmargin-right: 35rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\t.Img {\r\n\t\t\t\twidth: 100rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tmargin: 0rpx auto;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\t&image {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.name {\r\n\t\t\t\tfont-size: 25rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n</style>\n","import MiniProgramPage from 'D:/uniApp学习/YULEMusic/pages/videoDetail/videoDetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","onLoad","uni","fetchVideoUrl","fetchVideoInfo","fetchRelatedVideo","MiniProgramPage"],"mappings":";;;;;;;AAiCA,UAAM,OAAOA,cAAAA,SAAS;AAAA,MACrB,IAAI;AAAA,MACJ,KAAK;AAAA,MACL,WAAW,CAAE;AAAA,IACd,CAAC;AACDC,kBAAM,OAAC,OAAO,WAAW;AACxB,YAAM,KAAK,OAAO;AAClB,WAAK,KAAK;AACV,kBAAa;AACb,YAAM,aAAc;AACpB,sBAAiB;AACjBC,oBAAAA,8DAAY,IAAI;AAChBA,oBAAAA,MAAI,sBAAsB;AAAA,QACzB,OAAO,KAAK,UAAU;AAAA,MACxB,CAAE;AAAA,IACF,CAAC;AAED,UAAM,cAAc,YAAW;AAC9B,YAAM,MAAM,MAAMC,mCAAc,KAAK,EAAE;AACvC,WAAK,MAAM,IAAI,KAAK,KAAK;AAAA,IAC1B;AAEA,UAAM,eAAe,YAAW;AAC/B,aAAO,IAAI,QAAQ,OAAO,YAAY;AACrC,cAAM,MAAM,MAAMC,oCAAe,KAAK,EAAE;AACxC,aAAK,YAAY,IAAI,KAAK;AAC1B,gBAAQ,GAAG;AAAA,MACb,CAAE;AAAA,IACF;AAEA,UAAM,kBAAkB,YAAW;AACtB,YAAMC,qBAAiB,kBAAC,KAAK,EAAE;AAAA,IAC5C;;;;;;;;;;;;;;;;;;;;AChEA,GAAG,WAAWC,SAAe;"}