if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}],n=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n};const o=n({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:t}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(e){this.$emit("click",e)}}},[["render",function(t,n,o,a,s,c){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle(c.styleObj),class:e.normalizeClass(["uni-icons",["uniui-"+o.type,o.customPrefix,o.customPrefix?o.type:""]]),onClick:n[0]||(n[0]=(...e)=>c._onClick&&c._onClick(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)}],["__scopeId","data-v-b25a9929"]]);function a(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}function s(e,t){return"string"==typeof e?t:e}const c=(t,n=0)=>(n,o=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,n,o)},l=c("onLoad",2),i=c("onUnload",2),r=c("onReachBottom",2),u=c("onPullDownRefresh",2),d=["{","}"];const m=/^(?:\d)+/,f=/^(?:\w)+/;const p="zh-Hans",g="zh-Hant",h="en",y=Object.prototype.hasOwnProperty,v=(e,t)=>y.call(e,t),k=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,n=d){if(!t)return[e];let o=this._caches[e];return o||(o=function(e,[t,n]){const o=[];let a=0,s="";for(;a<e.length;){let c=e[a++];if(c===t){s&&o.push({type:"text",value:s}),s="";let t="";for(c=e[a++];void 0!==c&&c!==n;)t+=c,c=e[a++];const l=c===n,i=m.test(t)?"list":l&&f.test(t)?"named":"unknown";o.push({value:t,type:i})}else s+=c}return s&&o.push({type:"text",value:s}),o}(e,n),this._caches[e]=o),function(e,t){const n=[];let o=0;const a=Array.isArray(t)?"list":(s=t,null!==s&&"object"==typeof s?"named":"unknown");var s;if("unknown"===a)return n;for(;o<e.length;){const s=e[o];switch(s.type){case"text":n.push(s.value);break;case"list":n.push(t[parseInt(s.value,10)]);break;case"named":"named"===a&&n.push(t[s.value])}o++}return n}(o,t)}};function _(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return p;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?p:e.indexOf("-hant")>-1?g:(n=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==n.indexOf(e)))?g:p);var n;let o=[h,"fr","es"];t&&Object.keys(t).length>0&&(o=Object.keys(t));const a=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,o);return a||void 0}class w{constructor({locale:e,fallbackLocale:t,messages:n,watcher:o,formater:a}){this.locale=h,this.fallbackLocale=h,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=a||k,this.messages=n||{},this.setLocale(e||h),o&&this.watchLocale(o)}setLocale(e){const t=this.locale;this.locale=_(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,n=!0){const o=this.messages[e];o?n?Object.assign(o,t):Object.keys(t).forEach((e=>{v(o,e)||(o[e]=t[e])})):this.messages[e]=t}f(e,t,n){return this.formater.interpolate(e,t,n).join("")}t(e,t,n){let o=this.message;return"string"==typeof t?(t=_(t,this.messages))&&(o=this.messages[t]):n=t,v(o,e)?this.formater.interpolate(o[e],n).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const E={en:{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"},"zh-Hans":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"请输入搜索内容"},"zh-Hant":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"請輸入搜索內容"}},{t:S}=function(e,t={},n,o){if("string"!=typeof e){const n=[t,e];e=n[0],t=n[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():h),"string"!=typeof n&&(n="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||h);const a=new w({locale:e,fallbackLocale:n,messages:t,watcher:o});let s=(e,t)=>{if("function"!=typeof getApp)s=function(e,t){return a.t(e,t)};else{let e=!1;s=function(t,n){const o=getApp().$vm;return o&&(o.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(o,a))),a.t(t,n)}}return s(e,t)};return{i18n:a,f:(e,t,n)=>a.f(e,t,n),t:(e,t)=>s(e,t),add:(e,t,n=!0)=>a.add(e,t,n),watch:e=>a.watchLocale(e),getLocale:()=>a.getLocale(),setLocale:e=>a.setLocale(e)}}(E);const V=n({name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:""},bgColor:{type:String,default:"#F8F8F8"},textColor:{type:String,default:"#000000"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:()=>({show:!1,showSync:!1,searchVal:""}),computed:{cancelTextI18n(){return this.cancelText||S("uni-search-bar.cancel")},placeholderText(){return this.placeholder||S("uni-search-bar.placeholder")}},watch:{modelValue:{immediate:!0,handler(e){this.searchVal=e,e&&(this.show=!0)}},focus:{immediate:!0,handler(e){if(e){if(this.readonly)return;this.show=!0,this.$nextTick((()=>{this.showSync=!0}))}}},searchVal(e,t){this.$emit("input",e),this.$emit("update:modelValue",e)}},methods:{searchClick(){this.readonly||this.show||(this.show=!0,this.$nextTick((()=>{this.showSync=!0})))},clear(){this.searchVal="",this.$nextTick((()=>{this.$emit("clear",{value:""})}))},cancel(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord())},confirm(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})},blur(){plus.key.hideSoftKeybord(),this.$emit("blur",{value:this.searchVal})},emitFocus(e){this.$emit("focus",e.detail)}}},[["render",function(t,n,a,c,l,i){const r=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"uni-searchbar"},[e.createElementVNode("view",{style:e.normalizeStyle({borderRadius:a.radius+"px",backgroundColor:a.bgColor}),class:"uni-searchbar__box",onClick:n[5]||(n[5]=(...e)=>i.searchClick&&i.searchClick(...e))},[e.createElementVNode("view",{class:"uni-searchbar__box-icon-search"},[e.renderSlot(t.$slots,"searchIcon",{},(()=>[e.createVNode(r,{color:"#c0c4cc",size:"18",type:"search"})]),!0)]),l.show||l.searchVal?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,focus:l.showSync,disabled:a.readonly,placeholder:i.placeholderText,maxlength:a.maxlength,class:"uni-searchbar__box-search-input","confirm-type":"search",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>l.searchVal=e),style:e.normalizeStyle({color:a.textColor}),onConfirm:n[1]||(n[1]=(...e)=>i.confirm&&i.confirm(...e)),onBlur:n[2]||(n[2]=(...e)=>i.blur&&i.blur(...e)),onFocus:n[3]||(n[3]=(...e)=>i.emitFocus&&i.emitFocus(...e))},null,44,["focus","disabled","placeholder","maxlength"])),[[e.vModelText,l.searchVal]]):(e.openBlock(),e.createElementBlock("text",{key:1,class:"uni-searchbar__text-placeholder"},e.toDisplayString(a.placeholder),1)),l.show&&("always"===a.clearButton||"auto"===a.clearButton&&""!==l.searchVal)&&!a.readonly?(e.openBlock(),e.createElementBlock("view",{key:2,class:"uni-searchbar__box-icon-clear",onClick:n[4]||(n[4]=(...e)=>i.clear&&i.clear(...e))},[e.renderSlot(t.$slots,"clearIcon",{},(()=>[e.createVNode(r,{color:"#c0c4cc",size:"20",type:"clear"})]),!0)])):e.createCommentVNode("",!0)],4),"always"===a.cancelButton||l.show&&"auto"===a.cancelButton?(e.openBlock(),e.createElementBlock("text",{key:0,onClick:n[6]||(n[6]=(...e)=>i.cancel&&i.cancel(...e)),class:"uni-searchbar__cancel"},e.toDisplayString(i.cancelTextI18n),1)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-2ba324d9"]]),N=n({__name:"areaHeader",props:{title:{type:String,default:""},isMore:{type:Boolean,default:!0}},emits:["moreClkEmit"],setup(t,{emit:n}){const a=n,c=()=>{a("moreClkEmit")};return(n,a)=>{const l=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"areaHeader"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.title),1),t.isMore?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more",onClick:c},[e.createElementVNode("view",{class:"text"},"更多"),e.createVNode(l,{type:"right",size:"20"})])):e.createCommentVNode("",!0)])}}},[["__scopeId","data-v-580e84a8"]]);
/*!
   * pinia v2.1.7
   * (c) 2023 Eduardo San Martin Morote
   * @license MIT
   */
let B;const b=e=>B=e,C=Symbol();function I(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var x,D;(D=x||(x={})).direct="direct",D.patchObject="patch object",D.patchFunction="patch function";const L="undefined"!=typeof window;function P(){const t=e.effectScope(!0),n=t.run((()=>e.ref({})));let o=[],a=[];const s=e.markRaw({install(e){b(s),s._a=e,e.provide(C,s),e.config.globalProperties.$pinia=s,a.forEach((e=>o.push(e))),a=[]},use(e){return this._a?o.push(e):a.push(e),this},_p:o,_a:null,_e:t,_s:new Map,state:n});return s}const $=()=>{};function M(t,n,o,a=$){t.push(n);const s=()=>{const e=t.indexOf(n);e>-1&&(t.splice(e,1),a())};return!o&&e.getCurrentScope()&&e.onScopeDispose(s),s}function T(e,...t){e.slice().forEach((e=>{e(...t)}))}const F=e=>e();function A(t,n){t instanceof Map&&n instanceof Map&&n.forEach(((e,n)=>t.set(n,e))),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const o in n){if(!n.hasOwnProperty(o))continue;const a=n[o],s=t[o];I(s)&&I(a)&&t.hasOwnProperty(o)&&!e.isRef(a)&&!e.isReactive(a)?t[o]=A(s,a):t[o]=a}return t}const O=Symbol();const{assign:z}=Object;function H(t,n,o={},a,s,c){let l;const i=z({actions:{}},o),r={deep:!0};let u,d,m,f=[],p=[];const g=a.state.value[t];let h;function y(n){let o;u=d=!1,"function"==typeof n?(n(a.state.value[t]),o={type:x.patchFunction,storeId:t,events:m}):(A(a.state.value[t],n),o={type:x.patchObject,payload:n,storeId:t,events:m});const s=h=Symbol();e.nextTick().then((()=>{h===s&&(u=!0)})),d=!0,T(f,o,a.state.value[t])}c||g||(a.state.value[t]={}),e.ref({});const v=c?function(){const{state:e}=o,t=e?e():{};this.$patch((e=>{z(e,t)}))}:$;function k(e,n){return function(){b(a);const o=Array.from(arguments),s=[],c=[];function l(e){s.push(e)}function i(e){c.push(e)}let r;T(p,{args:o,name:e,store:w,after:l,onError:i});try{r=n.apply(this&&this.$id===t?this:w,o)}catch(u){throw T(c,u),u}return r instanceof Promise?r.then((e=>(T(s,e),e))).catch((e=>(T(c,e),Promise.reject(e)))):(T(s,r),r)}}const _={_p:a,$id:t,$onAction:M.bind(null,p),$patch:y,$reset:v,$subscribe(n,o={}){const s=M(f,n,o.detached,(()=>c())),c=l.run((()=>e.watch((()=>a.state.value[t]),(e=>{("sync"===o.flush?d:u)&&n({storeId:t,type:x.direct,events:m},e)}),z({},r,o))));return s},$dispose:function(){l.stop(),f=[],p=[],a._s.delete(t)}},w=e.reactive(_);a._s.set(t,w);const E=(a._a&&a._a.runWithContext||F)((()=>a._e.run((()=>(l=e.effectScope()).run(n)))));for(const N in E){const n=E[N];if(e.isRef(n)&&(V=n,!e.isRef(V)||!V.effect)||e.isReactive(n))c||(!g||I(S=n)&&S.hasOwnProperty(O)||(e.isRef(n)?n.value=g[N]:A(n,g[N])),a.state.value[t][N]=n);else if("function"==typeof n){const e=k(N,n);E[N]=e,i.actions[N]=n}}var S,V;return z(w,E),z(e.toRaw(w),E),Object.defineProperty(w,"$state",{get:()=>a.state.value[t],set:e=>{y((t=>{z(t,e)}))}}),a._p.forEach((e=>{z(w,l.run((()=>e({store:w,app:a._a,pinia:a,options:i}))))})),g&&c&&o.hydrate&&o.hydrate(w.$state,g),u=!0,d=!0,w}function R(t,n,o){let a,s;const c="function"==typeof n;function l(t,o){const l=e.hasInjectionContext();(t=t||(l?e.inject(C,null):null))&&b(t),(t=B)._s.has(a)||(c?H(a,n,s,t):function(t,n,o,a){const{state:s,actions:c,getters:l}=n,i=o.state.value[t];let r;r=H(t,(function(){i||(o.state.value[t]=s?s():{});const n=e.toRefs(o.state.value[t]);return z(n,c,Object.keys(l||{}).reduce(((n,a)=>(n[a]=e.markRaw(e.computed((()=>{b(o);const e=o._s.get(t);return l[a].call(e,e)}))),n)),{}))}),n,o,0,!0)}(a,s,t));return t._s.get(a)}return"string"==typeof t?(a=t,s=c?o:n):(s=t,a=t.id),l.$id=a,l}let j="Store";function U(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]=function(){return e(this.$pinia)[n]},t)),{}):Object.keys(t).reduce(((n,o)=>(n[o]=function(){const n=e(this.$pinia),a=t[o];return"function"==typeof a?a.call(this,n):n[a]},n)),{})}const W=U;const q=Object.freeze(Object.defineProperty({__proto__:null,get MutationType(){return x},PiniaVuePlugin:function(e){e.mixin({beforeCreate(){const e=this.$options;if(e.pinia){const t=e.pinia;if(!this._provided){const e={};Object.defineProperty(this,"_provided",{get:()=>e,set:t=>Object.assign(e,t)})}this._provided[C]=t,this.$pinia||(this.$pinia=t),t._a=this,L&&b(t)}else!this.$pinia&&e.parent&&e.parent.$pinia&&(this.$pinia=e.parent.$pinia)},destroyed(){delete this._pStores}})},acceptHMRUpdate:function(e,t){return()=>{}},createPinia:P,defineStore:R,getActivePinia:()=>e.hasInjectionContext()&&e.inject(C)||B,mapActions:function(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]=function(...t){return e(this.$pinia)[n](...t)},t)),{}):Object.keys(t).reduce(((n,o)=>(n[o]=function(...n){return e(this.$pinia)[t[o]](...n)},n)),{})},mapGetters:W,mapState:U,mapStores:function(...e){return e.reduce(((e,t)=>(e[t.$id+j]=function(){return t(this.$pinia)},e)),{})},mapWritableState:function(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]={get(){return e(this.$pinia)[n]},set(t){return e(this.$pinia)[n]=t}},t)),{}):Object.keys(t).reduce(((n,o)=>(n[o]={get(){return e(this.$pinia)[t[o]]},set(n){return e(this.$pinia)[t[o]]=n}},n)),{})},setActivePinia:b,setMapStoreSuffix:function(e){j=e},skipHydrate:function(e){return Object.defineProperty(e,O,{})},storeToRefs:function(t){{t=e.toRaw(t);const n={};for(const o in t){const a=t[o];(e.isRef(a)||e.isReactive(a))&&(n[o]=e.toRef(t,o))}return n}}},Symbol.toStringTag,{value:"Module"}));const G=new class{constructor(e){this.BaseUrl=e}request(e){const{url:t}=e;return new Promise(((n,o)=>{uni.request({...e,url:this.BaseUrl+t,success:e=>n(e),fail:e=>o(e)})}))}get(e){return this.request({method:"GET",...e})}post(e){return this.request({method:"POST",...e})}}("https://163api.qijieya.cn");function K(e){return e>=1e8?(e/1e8).toFixed(1)+"亿":e>1e4?(e/1e4).toFixed(1)+"万":e}function J(e){e/=1e3;var t=Math.floor(e/60),n=Math.floor(e%60);return(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)}const Q=R("player",{state:()=>({isFirstPlay:!0,songDetail:{},songList:[],songIndex:0,lyrics:"",lyricsList:{},currentIndex:-1,currentLyrics:"",currentTime:0,durationTime:0,sliderLength:0,scrollToTop:0,isSlide:!1,isPlaying:!0,currentOrder:0,currentOrderName:"order"}),actions:{getSongs(e){return new Promise((async(t,n)=>{try{let n=await(o=e,G.get({url:"/song/detail",data:{ids:o}}));this.songDetail=n.data.songs[0],this.durationTime=n.data.songs[0].dt,n=await function(e){return G.get({url:"/lyric",data:{id:e}})}(e),this.lyrics=n.data.lrc.lyric,this.lyricsList=function(e){const t=[],n=e.split("\n"),o=/\[(\d{2}):(\d{1,2}).(\d{2,3})\]/;for(const a of n){if(!a)continue;const e=o.exec(a),n=60*e[1]*1e3+1e3*e[2]+(e[3].length>2?1*e[3]:10*e[3]),s=a.replace(o,"");t.push({time:n,text:s})}return t}(this.lyrics),t()}catch(a){n(a)}var o}))}}}),X=n({__name:"songRecommend",props:{songs:{type:Array,default:[]}},setup(t){const n=t,c=Q();return(l,i)=>{const r=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"songRecommend"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.songs.slice(0,5),((t,o)=>(e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"song",onClick:e=>((e,t)=>{a("log","at components/songRecommend/songRecommend.vue:32","进入歌曲"),c.songList=n.songs,c.songIndex=t,uni.navigateTo({url:`/pages/musicPlayer/musicPlayer?id=${e.id}`})})(t,o)},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("image",{class:"Img",src:t.al.picUrl,mode:""},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"artist"},e.toDisplayString(t.ar[0].name),1)])]),e.createElementVNode("view",null,[e.createVNode(r,{type:"right",size:"25"})])],8,["onClick"])])))),256))])}}},[["__scopeId","data-v-c0c65817"]]),Y=n({__name:"songMenu",props:{menu:{type:Object,default:{}}},setup(t){const n=t,o=()=>{uni.navigateTo({url:`/pages/mainDetail/mainDetail?type=menu&id=${n.menu.id}`})};return(n,a)=>(e.openBlock(),e.createElementBlock("view",{class:"songMenu",onClick:o},[e.createElementVNode("view",{class:"image"},[e.createElementVNode("image",{class:"Img",src:t.menu.coverImgUrl,mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"playCount"},e.toDisplayString(e.unref(K)(t.menu.playCount)),1)]),e.createElementVNode("view",{class:"title"},e.toDisplayString(t.menu.name),1)]))}},[["__scopeId","data-v-da0d8069"]]),Z=n({__name:"areaMenu",props:{title:{type:String,default:""},hotSongMenu:{type:Array,default:[]}},setup(t){const n=()=>{uni.navigateTo({url:"/pages/menuMore/menuMore"})};return(o,a)=>{const c=s(e.resolveDynamicComponent("areaHeader"),N),l=s(e.resolveDynamicComponent("songMenu"),Y);return e.openBlock(),e.createElementBlock("view",{class:"hotSongMenu"},[e.createVNode(c,{title:t.title,onMoreClkEmit:n},null,8,["title"]),e.createElementVNode("view",{class:"menuList"},[e.createElementVNode("scroll-view",{class:"scroll-view_H","scroll-x":"true","show-scrollbar":!1},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.hotSongMenu,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,class:"menuItem"},[e.createVNode(l,{menu:t},null,8,["menu"])])))),128))])])])}}},[["__scopeId","data-v-793c96ab"]]),ee=n({__name:"rankingItem",props:{rankingItem:{type:Object,default:{}},rankingName:{type:String,default:""}},setup(t){const n=t,o=()=>{uni.navigateTo({url:`/pages/mainDetail/mainDetail?type=ranking&key=${n.rankingName}&id=${n.rankingItem.id}`})};return(n,a)=>(e.openBlock(),e.createElementBlock("view",{class:"rankingItem",onClick:o},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.rankingItem.name),1),e.createElementVNode("view",{class:"songsList"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(3,(n=>e.createElementVNode("view",{key:n},[e.createElementVNode("view",{class:"song"},[e.createElementVNode("text",null,e.toDisplayString(n)+". ",1),e.createElementVNode("text",null,e.toDisplayString(t.rankingItem.tracks[n-1].name)+" - ",1),e.createElementVNode("text",null,e.toDisplayString(t.rankingItem.tracks[n-1].ar[0].name),1)])]))),64))])]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("view",{class:"Img"},[e.createElementVNode("image",{class:"image",src:t.rankingItem.coverImgUrl,mode:"heightFix"},null,8,["src"])]),e.createElementVNode("view",{class:"playCount"},e.toDisplayString(e.unref(K)(t.rankingItem.playCount)),1)])]))}},[["__scopeId","data-v-f94a7597"]]);let te=null;function ne(){return te||(te=uni.createInnerAudioContext()),te}const oe=n({__name:"playerBar",setup(t){const n=ne(),o=Q(),a=e.ref(null),s=()=>{o.isPlaying?(n.pause(),o.isPlaying=!1):(n.play(),o.isPlaying=!0)},c=()=>{uni.navigateTo({url:"/pages/musicPlayer/musicPlayer"})};return(t,n)=>e.unref(o).songDetail.al?(e.openBlock(),e.createElementBlock("view",{key:0,class:"playerBar",onClick:c},[e.createElementVNode("view",{class:e.normalizeClass(["album",{playing:e.unref(o).isPlaying}]),ref_key:"album",ref:a},[e.createElementVNode("image",{class:"albumImg",src:e.unref(o).songDetail.al.picUrl,mode:"heightFix"},null,8,["src"])],2),e.createElementVNode("view",{class:"songInfo"},e.toDisplayString(e.unref(o).songDetail.name),1),e.createElementVNode("view",{class:"controls"},[e.createElementVNode("image",{class:"pause",src:`/static/play_${e.unref(o).isPlaying?"pause02":"resume02"}.png`,onClick:[n[0]||(n[0]=e.withModifiers((()=>{}),["stop"])),s]},null,8,["src"]),e.createElementVNode("image",{class:"list",src:"/static/play_musicList.png"})])])):e.createCommentVNode("",!0)}},[["__scopeId","data-v-1ed28eca"]]);function ae(e=3778678){return G.get({url:"/playlist/detail",data:{id:e}})}function se(e="全部",t=6,n=0){return G.get({url:"/top/playlist",data:{cat:e,limit:t,offset:n}})}const ce=R("music",{state:()=>({bannerList:[],recommendSongs:[],hotMenu:[],menuInfo:{},recommendMenu:[],rankingMenuList:[],rankingSongs:[]}),actions:{async getBannerList(){const e=(await function(e=2){return G.get({url:"/banner",data:{type:e}})}()).data.banners;this.bannerList=e.map((e=>e.pic))},getRecommendSongs(){return new Promise((async(e,t)=>{try{const t=await ae();this.recommendSongs=t.data.playlist.tracks,e()}catch(n){t(n)}}))},async getSongMenu(){let e=await se();this.hotMenu=e.data.playlists,e=await se("华语"),this.recommendMenu=e.data.playlists},getMenuInfo(e){return new Promise((async(t,n)=>{try{let n=await ae(e);this.menuInfo=n.data.playlist,t()}catch(o){n(o)}}))},async getRankingList(){const e={originRanking:2884035,newRanking:3779629,uperRanking:19723756};for(const t in e){const n=e[t],o=await ae(n);this.rankingMenuList.push(o.data.playlist)}},getRankingSongs(e){return new Promise((async(t,n)=>{try{const n=await ae(e);this.rankingSongs=n.data.playlist.tracks,t()}catch(o){reject(o)}}))}}}),le={__name:"mainMusic",setup(t){const n=e.ref(!1);e.watch(n,(()=>{n.value&&uni.navigateTo({url:"/pages/mainSearch/mainSearch"})}));const o=ce();o.getBannerList(),o.getRecommendSongs();const a=()=>{uni.navigateTo({url:"/pages/mainDetail/mainDetail?type=recommend"})};return o.getSongMenu(),o.getRankingList(),(t,c)=>{const l=s(e.resolveDynamicComponent("uni-search-bar"),V),i=s(e.resolveDynamicComponent("areaHeader"),N),r=s(e.resolveDynamicComponent("songRecommend"),X),u=s(e.resolveDynamicComponent("areaMenu"),Z),d=s(e.resolveDynamicComponent("rankingItem"),ee),m=s(e.resolveDynamicComponent("playerBar"),oe);return e.openBlock(),e.createElementBlock("view",{class:"mainMusic"},[e.createVNode(l,{radius:"100",placeholder:"请输入搜素关键词",clearButton:"none",cancelButton:"none",onFocus:c[0]||(c[0]=e=>n.value=!0),onBlur:c[1]||(c[1]=e=>n.value=!1)}),e.createElementVNode("view",{class:"swiper-list"},[e.createElementVNode("swiper",{class:"swiper",circular:"","indicator-dots":!0,autoplay:!0,interval:2e3,duration:500},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).bannerList,(t=>(e.openBlock(),e.createElementBlock("swiper-item",null,[e.createElementVNode("image",{class:"image",src:t},null,8,["src"])])))),256))])]),e.createVNode(i,{title:"歌曲推荐",onMoreClkEmit:a}),e.createVNode(r,{songs:e.unref(o).recommendSongs},null,8,["songs"]),e.createVNode(u,{title:"热门歌单",hotSongMenu:e.unref(o).hotMenu},null,8,["hotSongMenu"]),e.createVNode(u,{title:"推荐歌单",hotSongMenu:e.unref(o).recommendMenu},null,8,["hotSongMenu"]),e.unref(o).rankingMenuList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"ranking"},[e.createVNode(i,{title:"巅峰榜",isMore:!1}),e.createElementVNode("view",{class:"rankingList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).rankingMenuList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createVNode(d,{rankingItem:t,rankingName:t.name},null,8,["rankingItem","rankingName"])])))),128))])])):e.createCommentVNode("",!0),e.createVNode(m,{class:"playerBar"})])}}},ie=n({__name:"searchHot",props:{searchHotList:{type:Array,default:[]}},emits:["searchHotItemEmit"],setup(t,{emit:n}){const o=n;return(n,a)=>{const c=s(e.resolveDynamicComponent("areaHeader"),N);return e.openBlock(),e.createElementBlock("view",{class:"hotSearch"},[e.createVNode(c,{title:"热门搜索",isMore:!1}),e.createElementVNode("view",{class:"hotList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.searchHotList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"item",onClick:e=>(e=>{const t=e.first;o("searchHotItemEmit",t)})(t)},[e.createElementVNode("view",{class:e.normalizeClass({index:!0,active:n<3})},e.toDisplayString(n+1),3),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.first),1)],8,["onClick"])])))),128))])])}}},[["__scopeId","data-v-c3c53384"]]),re=n({__name:"songItem",props:{songsList:{type:Object,default:{}}},setup(t){const n=t,o=Q();return(s,c)=>(e.openBlock(),e.createElementBlock("view",{class:"songItems"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.songsList,((t,s)=>(e.openBlock(),e.createElementBlock("view",{key:s},[e.createElementVNode("view",{class:"song",onClick:e=>((e,t)=>{a("log","at components/songItem/songItem.vue:33","歌曲点击"),o.songList=n.songsList,o.songIndex=t,uni.navigateTo({url:`/pages/musicPlayer/musicPlayer?id=${e.id}`})})(t,s)},[e.createElementVNode("view",{class:"index"},e.toDisplayString(s+1),1),e.createElementVNode("view",{class:"songItem"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"info"},[e.createElementVNode("image",{class:"sq",src:"/static/sq_icon.png",mode:"widthFix"}),e.createElementVNode("view",{class:"artist"},e.toDisplayString(t.ar[0].name),1)])])],8,["onClick"])])))),128))]))}},[["__scopeId","data-v-67987db5"]]),ue={__name:"searchResult",props:{songs:{type:Array,default:[]}},setup:t=>(n,o)=>{const a=s(e.resolveDynamicComponent("areaHeader"),N),c=s(e.resolveDynamicComponent("songItem"),re);return e.openBlock(),e.createElementBlock("view",{class:"searchResult"},[e.createVNode(a,{title:"单曲",isMore:!1}),e.createVNode(c,{songsList:t.songs},null,8,["songsList"])])}},de=n({__name:"searchSuggest",props:{searchSuggest:{type:Array,default:[]}},emits:["searchSuggestItemEmit"],setup(t,{emit:n}){const a=n;return(n,c)=>{const l=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"searchSuggest"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.searchSuggest,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"item",onClick:e=>{return n=t.name,void a("searchSuggestItemEmit",n);var n}},[e.createElementVNode("view",{class:"icon"},[e.createVNode(l,{type:"search",size:"30"})]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)],8,["onClick"])])))),128))])}}},[["__scopeId","data-v-6d0cdc0f"]]);const me={__name:"mainSearch",setup(t){l((()=>{o()}));const n=e.reactive({searchHotList:[],searchSuggest:[],searchSongs:[],keyword:"",isFocus:!1}),o=async()=>{const e=(await G.get({url:"/search/hot"})).data.result.hots;n.searchHotList=e},a=e=>{n.keyword=e,m()},c=()=>{n.isFocus=!0,n.searchSongs=[],n.keyword=""},i=()=>{n.isFocus=!1},u=async e=>{if(n.keyword=e,!e)return void(n.searchSuggest=[]);var t;const o=(await(t=e,G.get({url:`/search/suggest?keywords=${t}`}))).data.result.songs;n.searchSuggest=o},d=e=>{n.keyword=e,m()},m=async(e=!1,t=0)=>{const o=n.keyword;if(!o)return;const a=await function(e,t){return G.get({url:`/cloudsearch?keywords=${e}&offset=${t}`})}(o,t),s=a.data.result.songs;e?n.searchSongs.push(...s):n.searchSongs=s};return r((()=>{m(!0,n.searchSongs.length)})),(t,o)=>{const l=s(e.resolveDynamicComponent("uni-search-bar"),V),r=s(e.resolveDynamicComponent("searchHot"),ie),f=s(e.resolveDynamicComponent("searchResult"),ue),p=s(e.resolveDynamicComponent("searchSuggest"),de),g=s(e.resolveDynamicComponent("playerBar"),oe);return e.openBlock(),e.createElementBlock("view",{class:"mainSearch"},[e.createVNode(l,{placeholder:"请输入搜索关键词",onInput:u,onFocus:c,onBlur:i,onConfirm:m}),0===n.searchSuggest.length&&0===n.searchSongs.length?(e.openBlock(),e.createBlock(r,{key:0,searchHotList:n.searchHotList,onSearchHotItemEmit:a},null,8,["searchHotList"])):e.createCommentVNode("",!0),!n.isFocus&&n.searchSongs.length>0?(e.openBlock(),e.createBlock(f,{key:1,songs:n.searchSongs},null,8,["songs"])):(e.openBlock(),e.createBlock(p,{key:2,searchSuggest:n.searchSuggest,onSearchSuggestItemEmit:d},null,8,["searchSuggest"])),e.createVNode(g)])}}},fe=n({__name:"menuHeader",props:{menuInfo:{type:Object,default:{}}},setup:t=>(n,a)=>{const c=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:"menuHeader"},[e.createElementVNode("view",{class:"bgImg"},[e.createElementVNode("image",{class:"image",src:t.menuInfo.coverImgUrl,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("image",{class:"image",src:t.menuInfo.coverImgUrl,mode:""},null,8,["src"])]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.menuInfo.description),1),e.createElementVNode("view",{class:"creator"},[e.createElementVNode("image",{class:"creatorImage",src:t.menuInfo.creator.avatarUrl,mode:""},null,8,["src"]),e.createElementVNode("view",{class:"creatorName"},e.toDisplayString(t.menuInfo.creator.nickname),1)]),e.createElementVNode("view",{class:"desc"},"简介："+e.toDisplayString(t.menuInfo.description),1)])]),e.createElementVNode("view",{class:"other"},[e.createElementVNode("view",{class:"subCount"},[e.createVNode(c,{type:"heart",size:"20",color:"#fff"}),e.createElementVNode("view",{class:"count"},e.toDisplayString(t.menuInfo.subscribedCount),1)]),e.createElementVNode("view",{class:"shareCount"},[e.createVNode(c,{type:"undo",size:"20",color:"#fff"}),e.createElementVNode("view",{class:"count"},e.toDisplayString(t.menuInfo.shareCount),1)])])])])}},[["__scopeId","data-v-a78613ff"]]),pe={__name:"mainDetail",setup(t){const n=e.reactive({songsInfo:{},songs:[],type:"",key:"",id:0}),o=ce();return l((async e=>{e.type&&(n.type=e.type),"recommend"===e.type?(uni.setNavigationBarTitle({title:"热歌榜"}),await o.getRecommendSongs(),n.songs=o.recommendSongs):"menu"===e.type?(uni.setNavigationBarTitle({title:"歌单"}),await o.getMenuInfo(e.id),n.songsInfo=o.menuInfo,n.songs=o.menuInfo.tracks):"ranking"===e.type&&(uni.setNavigationBarTitle({title:e.key??""}),await o.getRankingSongs(e.id),n.songs=o.rankingSongs)})),(t,o)=>{const a=s(e.resolveDynamicComponent("menuHeader"),fe),c=s(e.resolveDynamicComponent("songItem"),re),l=s(e.resolveDynamicComponent("playerBar"),oe);return e.openBlock(),e.createElementBlock("view",{class:"mainDetail"},["menu"===n.type&&n.songsInfo.coverImgUrl?(e.openBlock(),e.createBlock(a,{key:0,menuInfo:n.songsInfo},null,8,["menuInfo"])):e.createCommentVNode("",!0),e.createVNode(c,{songsList:n.songs},null,8,["songsList"]),e.createVNode(l)])}}},ge={__name:"menuMore",setup(t){const n=e.ref([]);l((()=>{o()}));const o=async()=>{const e=await G.get({url:"/playlist/hot"}),t=[];for(const n of e.data.tags)t.push(se(n.name));Promise.all(t).then((e=>{n.value=e}))};return(t,o)=>{const a=s(e.resolveDynamicComponent("areaHeader"),N),c=s(e.resolveDynamicComponent("songMenu"),Y),l=s(e.resolveDynamicComponent("playerBar"),oe);return e.openBlock(),e.createElementBlock("view",{class:"menuMore"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"menuCard"},[e.createVNode(a,{title:t.data.cat,isMore:!1},null,8,["title"]),e.createElementVNode("view",{class:"menuList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data.playlists,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,class:"menu"},[e.createVNode(c,{menu:t},null,8,["menu"])])))),128))])])])))),128)),e.createVNode(l)])}}};const he=e=>"number"==typeof e?e+"px":e;const ye=n({name:"UniNavBar",components:{statusBar:n({name:"UniStatusBar",data:()=>({statusBarHeight:uni.getSystemInfoSync().statusBarHeight+"px"})},[["render",function(t,n,o,a,s,c){return e.openBlock(),e.createElementBlock("view",{style:e.normalizeStyle({height:s.statusBarHeight}),class:"uni-status-bar"},[e.renderSlot(t.$slots,"default",{},void 0,!0)],4)}],["__scopeId","data-v-4539ef65"]])},emits:["clickLeft","clickRight","clickTitle"],props:{dark:{type:Boolean,default:!1},title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:""},backgroundColor:{type:String,default:""},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},height:{type:[Number,String],default:44},leftWidth:{type:[Number,String],default:60},rightWidth:{type:[Number,String],default:60},showMenuButtonWidth:{type:Boolean,default:!1},stat:{type:[Boolean,String],default:""}},data:()=>({navWidth:"auto"}),computed:{themeBgColor(){return this.dark?this.backgroundColor?this.backgroundColor:this.dark?"#333":"#FFF":this.backgroundColor||"#FFF"},themeColor(){return this.dark?this.color?this.color:this.dark?"#fff":"#333":this.color||"#333"},navbarHeight(){return this.fixed&&0===this.height?he(44):he(this.height)},leftIconWidth(){return he(this.leftWidth)},rightIconWidth(){return he(this.rightWidth)}},created(){},mounted(){uni.report&&this.stat&&""!==this.title&&uni.report("title",this.title)},methods:{onClickLeft(){this.$emit("clickLeft")},onClickRight(){this.$emit("clickRight")},onClickTitle(){this.$emit("clickTitle")}}},[["render",function(t,n,a,c,l,i){const r=e.resolveComponent("status-bar"),u=s(e.resolveDynamicComponent("uni-icons"),o);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-navbar",{"uni-dark":a.dark,"uni-nvue-fixed":a.fixed}])},[e.createElementVNode("view",{class:e.normalizeClass(["uni-navbar__content",{"uni-navbar--fixed":a.fixed,"uni-navbar--shadow":a.shadow,"uni-navbar--border":a.border}]),style:e.normalizeStyle({"background-color":i.themeBgColor})},[a.statusBar?(e.openBlock(),e.createBlock(r,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{style:e.normalizeStyle({color:i.themeColor,backgroundColor:i.themeBgColor,height:i.navbarHeight,width:a.showMenuButtonWidth?l.navWidth+"px":"100%"}),class:"uni-navbar__header"},[e.createElementVNode("view",{onClick:n[0]||(n[0]=(...e)=>i.onClickLeft&&i.onClickLeft(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-left",style:e.normalizeStyle({width:i.leftIconWidth})},[e.renderSlot(t.$slots,"left",{},(()=>[a.leftIcon.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__content_view"},[e.createVNode(u,{color:i.themeColor,type:a.leftIcon,size:"20"},null,8,["color","type"])])):e.createCommentVNode("",!0),a.leftText.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass([{"uni-navbar-btn-icon-left":!a.leftIcon.length>0},"uni-navbar-btn-text"])},[e.createElementVNode("text",{style:e.normalizeStyle({color:i.themeColor,fontSize:"12px"})},e.toDisplayString(a.leftText),5)],2)):e.createCommentVNode("",!0)]),!0)],4),e.createElementVNode("view",{class:"uni-navbar__header-container",onClick:n[1]||(n[1]=(...e)=>i.onClickTitle&&i.onClickTitle(...e))},[e.renderSlot(t.$slots,"default",{},(()=>[a.title.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__header-container-inner"},[e.createElementVNode("text",{class:"uni-nav-bar-text uni-ellipsis-1",style:e.normalizeStyle({color:i.themeColor})},e.toDisplayString(a.title),5)])):e.createCommentVNode("",!0)]),!0)]),e.createElementVNode("view",{onClick:n[2]||(n[2]=(...e)=>i.onClickRight&&i.onClickRight(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-right",style:e.normalizeStyle({width:i.rightIconWidth})},[e.renderSlot(t.$slots,"right",{},(()=>[a.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createVNode(u,{color:i.themeColor,type:a.rightIcon,size:"22"},null,8,["color","type"])])):e.createCommentVNode("",!0),a.rightText.length&&!a.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-navbar-btn-text"},[e.createElementVNode("text",{class:"uni-nav-bar-right-text",style:e.normalizeStyle({color:i.themeColor})},e.toDisplayString(a.rightText),5)])):e.createCommentVNode("",!0)]),!0)],4)],4)],6),a.fixed?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__placeholder"},[a.statusBar?(e.openBlock(),e.createBlock(r,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"uni-navbar__placeholder-view",style:e.normalizeStyle({height:i.navbarHeight})},null,4)])):e.createCommentVNode("",!0)],2)}],["__scopeId","data-v-18fbea83"]]),ve={__name:"musicPlayer",setup(t){const n=ne(),o=e.reactive({id:0,titleConfig:["歌曲","歌词"],contentHeight:100,currentPage:0,isShow:!1}),c=Q();let r=null;l((async e=>{c.isFirstPlay&&(c.isFirstPlay=!1,n.onEnded(d)),a("log","at pages/musicPlayer/musicPlayer.vue:104","playMusicOnLoad");const t=e.id,s=uni.getSystemInfoSync().windowHeight;o.contentHeight=s-44,t?g(t):o.isShow=!0,r=setInterval(h,100),uni.setKeepScreenOn({keepScreenOn:!0,success:()=>{a("log","at pages/musicPlayer/musicPlayer.vue:121","已设置长亮")}})}));const u=()=>{c.isPlaying?(n.pause(),c.isPlaying=!1):(n.play(),c.isPlaying=!0)},d=()=>{f()},m=()=>{f(!1)},f=(e=!0)=>{let t=c.songIndex;const n=c.songList.length;switch(c.currentOrder){case 0:t=e?t+1:t-1,t=(t+n)%n;break;case 1:break;case 2:t=Math.floor(Math.random()*n)}c.songIndex=t;const o=c.songList[t].id;g(o)},p=()=>{let e=c.currentOrder;e=(e+1)%3,c.currentOrder=e,c.currentOrderName=["order","repeat","random"][e]},g=async e=>{const t=await function(e){return new Promise(((t,n)=>{uni.request({url:`https://api.vkeys.cn/v2/music/netease?id=${e}`,success:e=>t(e),fail:e=>n(e)})}))}(e);try{if(a("log","at pages/musicPlayer/musicPlayer.vue:174",t),200!==t.data.code)throw new Error("HTTP error! status");const e=t.data.data.url;n.src=e}catch(s){a("log","at pages/musicPlayer/musicPlayer.vue:182","报错",s),a("log","at pages/musicPlayer/musicPlayer.vue:183","启动非代理url"),n.src=`https://music.163.com/song/media/outer/url?id=${e}.mp3`}await c.getSongs(e),o.isShow=!0,n.stop(),n.autoplay=!0,n.play()},h=()=>{if(c.isSlide)return;const e=1e3*n.currentTime;c.currentTime=e;const t=c.currentTime/c.durationTime*100;c.sliderLength=t;const o=c.lyricsList;let a=o.length-1;for(let s=0;s<o.length;s++)if(o[s].time>1e3*n.currentTime){a=s-1;break}if(c.currentIndex!==a&&(c.currentIndex=a,o[a])){const e=o[a].text??"";c.currentLyrics=e,c.scrollToTop=40*a}},y=()=>{uni.navigateBack()},v=e=>{const t=e.detail.value/100*c.durationTime;n.seek(t/1e3),c.currentTime=t,c.isSlide=!1},k=e=>{c.isSlide=!0},_=e=>{o.currentPage=e.detail.current};return i((()=>{clearInterval(r)})),(t,n)=>{const a=s(e.resolveDynamicComponent("uni-nav-bar"),ye);return o.isShow?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",{class:"musicPlayer"},[e.createElementVNode("image",{class:"backgroundImg",src:e.unref(c).songDetail.al.picUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"backgroundMask"}),e.createVNode(a,{"background-color":"transparent",class:"navBar",border:!1,"left-icon":"left",color:"#fff",onClickLeft:y},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"center"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.titleConfig,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"text"},[e.createElementVNode("text",{class:e.normalizeClass({active:o.currentPage===n}),onClick:e=>o.currentPage=n},e.toDisplayString(t),11,["onClick"]),0===n?(e.openBlock(),e.createElementBlock("text",{key:0,class:"line"},"|")):e.createCommentVNode("",!0)])])))),128))])])),_:1}),e.createElementVNode("swiper",{onChange:_,style:e.normalizeStyle(`height: ${o.contentHeight}px;`),current:o.currentPage},[e.createElementVNode("swiper-item",{class:"musicPage"},[e.createElementVNode("view",{class:"album"},[e.createElementVNode("image",{class:"albumImg",src:e.unref(c).songDetail.al.picUrl,mode:"widthFix"},null,8,["src"])]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(e.unref(c).songDetail.name),1),e.createElementVNode("view",{class:"artist"},e.toDisplayString(e.unref(c).songDetail.ar[0].name),1)]),e.createElementVNode("view",{class:"lyrics"},e.toDisplayString(e.unref(c).currentLyrics),1),e.createElementVNode("slider",{class:"slider","block-size":"15",value:e.unref(c).sliderLength,onChange:v,onChanging:k},null,40,["value"]),e.createElementVNode("view",{class:"songTime"},[e.createElementVNode("view",{class:"start"},e.toDisplayString(e.unref(J)(e.unref(c).currentTime)),1),e.createElementVNode("view",{class:"end"},e.toDisplayString(e.unref(J)(e.unref(c).durationTime)),1)]),e.createElementVNode("view",{class:"controls"},[e.createElementVNode("image",{class:"order",src:`/static/play_${e.unref(c).currentOrderName}.png`,onClick:p},null,8,["src"]),e.createElementVNode("image",{class:"prev",src:"/static/play_prev.png",onClick:m}),e.createElementVNode("image",{class:"pause",src:`/static/play_${e.unref(c).isPlaying?"pause":"resume"}.png`,onClick:u},null,8,["src"]),e.createElementVNode("image",{class:"next",src:"/static/play_next.png",onClick:d}),e.createElementVNode("image",{class:"list",src:"/static/play_music.png"})])]),e.createElementVNode("swiper-item",{class:"musicLyrics"},[e.createElementVNode("scroll-view",{class:"lyrics","scroll-y":"","scroll-top":e.unref(c).scrollToTop,"scroll-with-animation":"","show-scrollbar":"false"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(c).lyricsList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:e.normalizeClass("lyricItem "+(n===e.unref(c).currentIndex?"active":"")),style:e.normalizeStyle(`margin-top: ${0===n?o.contentHeight-40:0}rpx; \n\t\t\t\t\t\t\t\tpadding-bottom: ${n===e.unref(c).lyricsList.length-1?o.contentHeight+40:0}rpx;`)},e.toDisplayString(t.text),7)])))),128))],8,["scroll-top"])])],44,["current"])])])):e.createCommentVNode("",!0)}}},ke=n({__name:"videoItem",props:{item:{type:Object,default:{}}},setup(t){const n=t,o=()=>{uni.navigateTo({url:`/pages/videoDetail/videoDetail?id=${n.item.id}`})};return(n,a)=>(e.openBlock(),e.createElementBlock("view",{class:"videoItem",onClick:o},[e.createElementVNode("view",{class:"Img"},[e.createElementVNode("image",{class:"img",src:t.item.cover,mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"viewCount"},e.toDisplayString(e.unref(K)(t.item.playCount)),1),e.createElementVNode("view",{class:"duration"},e.toDisplayString(e.unref(J)(t.item.mv.videos[0].duration)),1)])]),e.createElementVNode("view",{class:"desc"},e.toDisplayString(t.item.name)+" - "+e.toDisplayString(t.item.artistName),1)]))}},[["__scopeId","data-v-152db20e"]]);const _e={__name:"mainVideo",setup(t){const n=e.reactive({videoList:[],offset:0,hasMore:!0}),o=async e=>{const t=await function(e=0,t=20){return G.get({url:"/top/mv",data:{limit:t,offset:e}})}(e),o=[...n.videoList,...t.data.data];n.videoList=o,n.offset=n.videoList.length,n.hasMore=t.data.hasMore};return l((()=>{o(n.offset)})),r((()=>{n.hasMore&&o(n.offset)})),u((async()=>{n.videoList=[],n.offset=0,n.hasMore=!0,await o(n.offset),uni.stopPullDownRefresh(),a("log","at pages/mainVideo/mainVideo.vue:42","下拉刷新")})),(t,o)=>{const a=s(e.resolveDynamicComponent("videoItem"),ke);return e.openBlock(),e.createElementBlock("view",{class:"video"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.videoList,((t,n)=>(e.openBlock(),e.createBlock(a,{key:n,class:"videoItem",item:t},null,8,["item"])))),128))])}}},we={__name:"videoDetail",setup(t){const n=e.reactive({id:-1,url:"",videoInfo:{}});l((async e=>{const t=e.id;n.id=t,o(),await s(),c(),a("log","at pages/videoDetail/videoDetail.vue:45",n),uni.setNavigationBarTitle({title:n.videoInfo.name})}));const o=async()=>{const e=await(t=n.id,G.get({url:"/mv/url",data:{id:t}}));var t;n.url=e.data.data.url},s=async()=>new Promise((async e=>{const t=await(o=n.id,G.get({url:"/mv/detail",data:{mvid:o}}));var o;n.videoInfo=t.data.data,e(t)})),c=async()=>{var e;await(e=n.id,G.get({url:"/related/allvideo",data:{id:e}}))};return(t,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("video",{class:"video",src:n.url,autoplay:""},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(n.videoInfo.name),1),e.createElementVNode("view",{class:"author"},e.toDisplayString(n.videoInfo.artistName),1),e.createElementVNode("view",{class:"other"},[e.createElementVNode("view",{class:"playCount"},e.toDisplayString(e.unref(K)(n.videoInfo.playCount))+"次播放-",1),e.createElementVNode("view",{class:"subCount"},e.toDisplayString(e.unref(K)(n.videoInfo.subCount))+"次收藏-",1),e.createElementVNode("view",{class:"date"},e.toDisplayString(n.videoInfo.publishTime),1)]),e.createElementVNode("view",{class:"singerList"},[e.createElementVNode("view",{class:"artists"},"歌手列表"),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.videoInfo.artists,((t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"singer",key:n},[e.createElementVNode("view",{class:"Img"},[e.createElementVNode("image",{src:t.img1v1Url,mode:""},null,8,["src"])]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)])))),128))])])])],64))}};__definePage("pages/mainMusic/mainMusic",le),__definePage("pages/mainSearch/mainSearch",me),__definePage("pages/mainDetail/mainDetail",pe),__definePage("pages/menuMore/menuMore",ge),__definePage("pages/musicPlayer/musicPlayer",ve),__definePage("pages/mainVideo/mainVideo",_e),__definePage("pages/videoDetail/videoDetail",we);const Ee={onLaunch:function(){a("log","at App.vue:4","App Launch")},onShow:function(){a("log","at App.vue:7","App Show")},onHide:function(){a("log","at App.vue:10","App Hide")}};const{app:Se,Vuex:Ve,Pinia:Ne}=function(){const t=e.createVueApp(Ee);return t.use(P()),{app:t,Pinia:q}}();uni.Vuex=Ve,uni.Pinia=Ne,Se.provide("__globalStyles",__uniConfig.styles),Se._component.mpType="app",Se._component.render=()=>{},Se.mount("#app")}(Vue);
