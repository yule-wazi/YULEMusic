if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}],n=(e,t)=>{const n=e.__vccOpts||e;for(const[a,o]of t)n[a]=o;return n};const a=n({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:t}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(e){this.$emit("click",e)}}},[["render",function(t,n,a,o,s,i){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle(i.styleObj),class:e.normalizeClass(["uni-icons",["uniui-"+a.type,a.customPrefix,a.customPrefix?a.type:""]]),onClick:n[0]||(n[0]=(...e)=>i._onClick&&i._onClick(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)}],["__scopeId","data-v-b25a9929"]]);function o(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}function s(e,t){return"string"==typeof e?t:e}const i=(t,n=0)=>(n,a=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,n,a)},c=i("onLoad",2),l=i("onUnload",2),r=i("onReachBottom",2),u=i("onPullDownRefresh",2),d=["{","}"];const m=/^(?:\d)+/,f=/^(?:\w)+/;const p="zh-Hans",g="zh-Hant",h="en",y=Object.prototype.hasOwnProperty,v=(e,t)=>y.call(e,t),k=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,n=d){if(!t)return[e];let a=this._caches[e];return a||(a=function(e,[t,n]){const a=[];let o=0,s="";for(;o<e.length;){let i=e[o++];if(i===t){s&&a.push({type:"text",value:s}),s="";let t="";for(i=e[o++];void 0!==i&&i!==n;)t+=i,i=e[o++];const c=i===n,l=m.test(t)?"list":c&&f.test(t)?"named":"unknown";a.push({value:t,type:l})}else s+=i}return s&&a.push({type:"text",value:s}),a}(e,n),this._caches[e]=a),function(e,t){const n=[];let a=0;const o=Array.isArray(t)?"list":(s=t,null!==s&&"object"==typeof s?"named":"unknown");var s;if("unknown"===o)return n;for(;a<e.length;){const s=e[a];switch(s.type){case"text":n.push(s.value);break;case"list":n.push(t[parseInt(s.value,10)]);break;case"named":"named"===o&&n.push(t[s.value])}a++}return n}(a,t)}};function _(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return p;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?p:e.indexOf("-hant")>-1?g:(n=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==n.indexOf(e)))?g:p);var n;let a=[h,"fr","es"];t&&Object.keys(t).length>0&&(a=Object.keys(t));const o=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,a);return o||void 0}class w{constructor({locale:e,fallbackLocale:t,messages:n,watcher:a,formater:o}){this.locale=h,this.fallbackLocale=h,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=o||k,this.messages=n||{},this.setLocale(e||h),a&&this.watchLocale(a)}setLocale(e){const t=this.locale;this.locale=_(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,n=!0){const a=this.messages[e];a?n?Object.assign(a,t):Object.keys(t).forEach((e=>{v(a,e)||(a[e]=t[e])})):this.messages[e]=t}f(e,t,n){return this.formater.interpolate(e,t,n).join("")}t(e,t,n){let a=this.message;return"string"==typeof t?(t=_(t,this.messages))&&(a=this.messages[t]):n=t,v(a,e)?this.formater.interpolate(a[e],n).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const E={en:{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"},"zh-Hans":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"请输入搜索内容"},"zh-Hant":{"uni-search-bar.cancel":"取消","uni-search-bar.placeholder":"請輸入搜索內容"}},{t:V}=function(e,t={},n,a){if("string"!=typeof e){const n=[t,e];e=n[0],t=n[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():h),"string"!=typeof n&&(n="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||h);const o=new w({locale:e,fallbackLocale:n,messages:t,watcher:a});let s=(e,t)=>{if("function"!=typeof getApp)s=function(e,t){return o.t(e,t)};else{let e=!1;s=function(t,n){const a=getApp().$vm;return a&&(a.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(a,o))),o.t(t,n)}}return s(e,t)};return{i18n:o,f:(e,t,n)=>o.f(e,t,n),t:(e,t)=>s(e,t),add:(e,t,n=!0)=>o.add(e,t,n),watch:e=>o.watchLocale(e),getLocale:()=>o.getLocale(),setLocale:e=>o.setLocale(e)}}(E);const N=n({name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:""},bgColor:{type:String,default:"#F8F8F8"},textColor:{type:String,default:"#000000"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:()=>({show:!1,showSync:!1,searchVal:""}),computed:{cancelTextI18n(){return this.cancelText||V("uni-search-bar.cancel")},placeholderText(){return this.placeholder||V("uni-search-bar.placeholder")}},watch:{modelValue:{immediate:!0,handler(e){this.searchVal=e,e&&(this.show=!0)}},focus:{immediate:!0,handler(e){if(e){if(this.readonly)return;this.show=!0,this.$nextTick((()=>{this.showSync=!0}))}}},searchVal(e,t){this.$emit("input",e),this.$emit("update:modelValue",e)}},methods:{searchClick(){this.readonly||this.show||(this.show=!0,this.$nextTick((()=>{this.showSync=!0})))},clear(){this.searchVal="",this.$nextTick((()=>{this.$emit("clear",{value:""})}))},cancel(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord())},confirm(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})},blur(){plus.key.hideSoftKeybord(),this.$emit("blur",{value:this.searchVal})},emitFocus(e){this.$emit("focus",e.detail)}}},[["render",function(t,n,o,i,c,l){const r=s(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:"uni-searchbar"},[e.createElementVNode("view",{style:e.normalizeStyle({borderRadius:o.radius+"px",backgroundColor:o.bgColor}),class:"uni-searchbar__box",onClick:n[5]||(n[5]=(...e)=>l.searchClick&&l.searchClick(...e))},[e.createElementVNode("view",{class:"uni-searchbar__box-icon-search"},[e.renderSlot(t.$slots,"searchIcon",{},(()=>[e.createVNode(r,{color:"#c0c4cc",size:"18",type:"search"})]),!0)]),c.show||c.searchVal?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,focus:c.showSync,disabled:o.readonly,placeholder:l.placeholderText,maxlength:o.maxlength,class:"uni-searchbar__box-search-input","confirm-type":"search",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>c.searchVal=e),style:e.normalizeStyle({color:o.textColor}),onConfirm:n[1]||(n[1]=(...e)=>l.confirm&&l.confirm(...e)),onBlur:n[2]||(n[2]=(...e)=>l.blur&&l.blur(...e)),onFocus:n[3]||(n[3]=(...e)=>l.emitFocus&&l.emitFocus(...e))},null,44,["focus","disabled","placeholder","maxlength"])),[[e.vModelText,c.searchVal]]):(e.openBlock(),e.createElementBlock("text",{key:1,class:"uni-searchbar__text-placeholder"},e.toDisplayString(o.placeholder),1)),c.show&&("always"===o.clearButton||"auto"===o.clearButton&&""!==c.searchVal)&&!o.readonly?(e.openBlock(),e.createElementBlock("view",{key:2,class:"uni-searchbar__box-icon-clear",onClick:n[4]||(n[4]=(...e)=>l.clear&&l.clear(...e))},[e.renderSlot(t.$slots,"clearIcon",{},(()=>[e.createVNode(r,{color:"#c0c4cc",size:"20",type:"clear"})]),!0)])):e.createCommentVNode("",!0)],4),"always"===o.cancelButton||c.show&&"auto"===o.cancelButton?(e.openBlock(),e.createElementBlock("text",{key:0,onClick:n[6]||(n[6]=(...e)=>l.cancel&&l.cancel(...e)),class:"uni-searchbar__cancel"},e.toDisplayString(l.cancelTextI18n),1)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-2ba324d9"]]),S=n({__name:"areaHeader",props:{title:{type:String,default:""},isMore:{type:Boolean,default:!0}},emits:["moreClkEmit"],setup(t,{emit:n}){const o=n,i=()=>{o("moreClkEmit")};return(n,o)=>{const c=s(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:"areaHeader"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.title),1),t.isMore?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more",onClick:i},[e.createElementVNode("view",{class:"text"},"更多"),e.createVNode(c,{type:"right",size:"20"})])):e.createCommentVNode("",!0)])}}},[["__scopeId","data-v-580e84a8"]]);
/*!
   * pinia v2.1.7
   * (c) 2023 Eduardo San Martin Morote
   * @license MIT
   */
let B;const b=e=>B=e,I=Symbol();function C(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var D,x;(x=D||(D={})).direct="direct",x.patchObject="patch object",x.patchFunction="patch function";const L="undefined"!=typeof window;function P(){const t=e.effectScope(!0),n=t.run((()=>e.ref({})));let a=[],o=[];const s=e.markRaw({install(e){b(s),s._a=e,e.provide(I,s),e.config.globalProperties.$pinia=s,o.forEach((e=>a.push(e))),o=[]},use(e){return this._a?a.push(e):o.push(e),this},_p:a,_a:null,_e:t,_s:new Map,state:n});return s}const $=()=>{};function M(t,n,a,o=$){t.push(n);const s=()=>{const e=t.indexOf(n);e>-1&&(t.splice(e,1),o())};return!a&&e.getCurrentScope()&&e.onScopeDispose(s),s}function T(e,...t){e.slice().forEach((e=>{e(...t)}))}const F=e=>e();function A(t,n){t instanceof Map&&n instanceof Map&&n.forEach(((e,n)=>t.set(n,e))),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const a in n){if(!n.hasOwnProperty(a))continue;const o=n[a],s=t[a];C(s)&&C(o)&&t.hasOwnProperty(a)&&!e.isRef(o)&&!e.isReactive(o)?t[a]=A(s,o):t[a]=o}return t}const O=Symbol();const{assign:z}=Object;function H(t,n,a={},o,s,i){let c;const l=z({actions:{}},a),r={deep:!0};let u,d,m,f=[],p=[];const g=o.state.value[t];let h;function y(n){let a;u=d=!1,"function"==typeof n?(n(o.state.value[t]),a={type:D.patchFunction,storeId:t,events:m}):(A(o.state.value[t],n),a={type:D.patchObject,payload:n,storeId:t,events:m});const s=h=Symbol();e.nextTick().then((()=>{h===s&&(u=!0)})),d=!0,T(f,a,o.state.value[t])}i||g||(o.state.value[t]={}),e.ref({});const v=i?function(){const{state:e}=a,t=e?e():{};this.$patch((e=>{z(e,t)}))}:$;function k(e,n){return function(){b(o);const a=Array.from(arguments),s=[],i=[];function c(e){s.push(e)}function l(e){i.push(e)}let r;T(p,{args:a,name:e,store:w,after:c,onError:l});try{r=n.apply(this&&this.$id===t?this:w,a)}catch(u){throw T(i,u),u}return r instanceof Promise?r.then((e=>(T(s,e),e))).catch((e=>(T(i,e),Promise.reject(e)))):(T(s,r),r)}}const _={_p:o,$id:t,$onAction:M.bind(null,p),$patch:y,$reset:v,$subscribe(n,a={}){const s=M(f,n,a.detached,(()=>i())),i=c.run((()=>e.watch((()=>o.state.value[t]),(e=>{("sync"===a.flush?d:u)&&n({storeId:t,type:D.direct,events:m},e)}),z({},r,a))));return s},$dispose:function(){c.stop(),f=[],p=[],o._s.delete(t)}},w=e.reactive(_);o._s.set(t,w);const E=(o._a&&o._a.runWithContext||F)((()=>o._e.run((()=>(c=e.effectScope()).run(n)))));for(const S in E){const n=E[S];if(e.isRef(n)&&(N=n,!e.isRef(N)||!N.effect)||e.isReactive(n))i||(!g||C(V=n)&&V.hasOwnProperty(O)||(e.isRef(n)?n.value=g[S]:A(n,g[S])),o.state.value[t][S]=n);else if("function"==typeof n){const e=k(S,n);E[S]=e,l.actions[S]=n}}var V,N;return z(w,E),z(e.toRaw(w),E),Object.defineProperty(w,"$state",{get:()=>o.state.value[t],set:e=>{y((t=>{z(t,e)}))}}),o._p.forEach((e=>{z(w,c.run((()=>e({store:w,app:o._a,pinia:o,options:l}))))})),g&&i&&a.hydrate&&a.hydrate(w.$state,g),u=!0,d=!0,w}function j(t,n,a){let o,s;const i="function"==typeof n;function c(t,a){const c=e.hasInjectionContext();(t=t||(c?e.inject(I,null):null))&&b(t),(t=B)._s.has(o)||(i?H(o,n,s,t):function(t,n,a,o){const{state:s,actions:i,getters:c}=n,l=a.state.value[t];let r;r=H(t,(function(){l||(a.state.value[t]=s?s():{});const n=e.toRefs(a.state.value[t]);return z(n,i,Object.keys(c||{}).reduce(((n,o)=>(n[o]=e.markRaw(e.computed((()=>{b(a);const e=a._s.get(t);return c[o].call(e,e)}))),n)),{}))}),n,a,0,!0)}(o,s,t));return t._s.get(o)}return"string"==typeof t?(o=t,s=i?a:n):(s=t,o=t.id),c.$id=o,c}let R="Store";function U(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]=function(){return e(this.$pinia)[n]},t)),{}):Object.keys(t).reduce(((n,a)=>(n[a]=function(){const n=e(this.$pinia),o=t[a];return"function"==typeof o?o.call(this,n):n[o]},n)),{})}const W=U;const q=Object.freeze(Object.defineProperty({__proto__:null,get MutationType(){return D},PiniaVuePlugin:function(e){e.mixin({beforeCreate(){const e=this.$options;if(e.pinia){const t=e.pinia;if(!this._provided){const e={};Object.defineProperty(this,"_provided",{get:()=>e,set:t=>Object.assign(e,t)})}this._provided[I]=t,this.$pinia||(this.$pinia=t),t._a=this,L&&b(t)}else!this.$pinia&&e.parent&&e.parent.$pinia&&(this.$pinia=e.parent.$pinia)},destroyed(){delete this._pStores}})},acceptHMRUpdate:function(e,t){return()=>{}},createPinia:P,defineStore:j,getActivePinia:()=>e.hasInjectionContext()&&e.inject(I)||B,mapActions:function(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]=function(...t){return e(this.$pinia)[n](...t)},t)),{}):Object.keys(t).reduce(((n,a)=>(n[a]=function(...n){return e(this.$pinia)[t[a]](...n)},n)),{})},mapGetters:W,mapState:U,mapStores:function(...e){return e.reduce(((e,t)=>(e[t.$id+R]=function(){return t(this.$pinia)},e)),{})},mapWritableState:function(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]={get(){return e(this.$pinia)[n]},set(t){return e(this.$pinia)[n]=t}},t)),{}):Object.keys(t).reduce(((n,a)=>(n[a]={get(){return e(this.$pinia)[t[a]]},set(n){return e(this.$pinia)[t[a]]=n}},n)),{})},setActivePinia:b,setMapStoreSuffix:function(e){R=e},skipHydrate:function(e){return Object.defineProperty(e,O,{})},storeToRefs:function(t){{t=e.toRaw(t);const n={};for(const a in t){const o=t[a];(e.isRef(o)||e.isReactive(o))&&(n[a]=e.toRef(t,a))}return n}}},Symbol.toStringTag,{value:"Module"}));const G=new class{constructor(e){this.BaseUrl=e}request(e){const{url:t}=e;return new Promise(((n,a)=>{uni.request({...e,url:this.BaseUrl+t,success:e=>n(e),fail:e=>a(e)})}))}get(e){return this.request({method:"GET",...e})}post(e){return this.request({method:"POST",...e})}}("https://163api.qijieya.cn");function K(e=3778678){return G.get({url:"/playlist/detail",data:{id:e}})}function J(e="全部",t=6,n=0){return G.get({url:"/top/playlist",data:{cat:e,limit:t,offset:n}})}const Q=j("music",{state:()=>({bannerList:[],recommendSongs:[],hotMenu:[],menuInfo:{},singerId:0,singerDetail:{},recommendMenu:[],rankingMenuList:[],rankingSongs:[],currentPage:"mainMusic"}),actions:{async getBannerList(){const e=(await function(e=2){return G.get({url:"/banner",data:{type:e}})}()).data.banners;this.bannerList=e.map((e=>e.pic))},getRecommendSongs(){return new Promise((async(e,t)=>{try{const t=await K();this.recommendSongs=t.data.playlist.tracks,e()}catch(n){t(n)}}))},async getSongMenu(){let e=await J();this.hotMenu=e.data.playlists,e=await J("华语"),this.recommendMenu=e.data.playlists},getMenuInfo(e){return new Promise((async(t,n)=>{try{let n=await K(e);this.menuInfo=n.data.playlist,t()}catch(a){n(a)}}))},async getRankingList(){const e={originRanking:2884035,newRanking:3779629,uperRanking:19723756};for(const t in e){const n=e[t],a=await K(n);this.rankingMenuList.push(a.data.playlist)}},getRankingSongs(e){return new Promise((async(t,n)=>{try{const n=await K(e);this.rankingSongs=n.data.playlist.tracks,t()}catch(a){reject(a)}}))}}});function X(e){return e>=1e8?(e/1e8).toFixed(1)+"亿":e>1e4?(e/1e4).toFixed(1)+"万":e}function Y(e){e/=1e3;var t=Math.floor(e/60),n=Math.floor(e%60);return(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)}const Z=j("player",{state:()=>({isFirstPlay:!0,songDetail:{},songList:[],singerId:0,singerDetail:{},songIndex:0,lyrics:"",lyricsList:{},currentIndex:-1,currentLyrics:"",currentTime:0,durationTime:0,sliderLength:0,scrollToTop:0,isSlide:!1,isPlaying:!0,currentOrder:0,currentOrderName:"order"}),actions:{getSongs(e){return new Promise((async(t,n)=>{try{let n=await(a=e,G.get({url:"/song/detail",data:{ids:a}}));this.songDetail=n.data.songs[0],this.durationTime=n.data.songs[0].dt,o("log","at store/module/player.js:36",n.data),this.singerId=n.data.songs[0].ar[0].id,n=await function(e){return G.get({url:"/lyric",data:{id:e}})}(e),this.lyrics=n.data.lrc.lyric,this.lyricsList=function(e){const t=[],n=e.split("\n"),a=/\[(\d{2}):(\d{1,2}).(\d{2,3})\]/;for(const o of n){if(!o)continue;const e=a.exec(o),n=60*e[1]*1e3+1e3*e[2]+(e[3].length>2?1*e[3]:10*e[3]),s=o.replace(a,"");t.push({time:n,text:s})}return t}(this.lyrics),t()}catch(s){n(s)}var a}))},getSearchSingerInfo(){return new Promise((async e=>{const t=await(n=this.singerId,G.get({url:`/artist/detail?id=${n}`}));var n;this.singerDetail=t.data.data,e()}))},getSingerSongs(){return new Promise((async e=>{var t;e((await(t=this.singerId,G.get({url:`/artists?id=${t}`}))).data.hotSongs)}))}}}),ee=n({__name:"songRecommend",props:{songs:{type:Array,default:[]}},setup(t){const n=t,i=Z();return(c,l)=>{const r=s(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:"songRecommend"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.songs.slice(0,5),((t,a)=>(e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"song",onClick:e=>((e,t)=>{o("log","at components/songRecommend/songRecommend.vue:33","进入歌曲"),i.songList=n.songs,i.songIndex=t,uni.navigateTo({url:`/pages/musicPlayer/musicPlayer?id=${e.id}`})})(t,a)},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("image",{class:"Img",src:t.al.picUrl,mode:""},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"artist"},e.toDisplayString(t.ar[0].name),1)])]),e.createElementVNode("view",null,[e.createVNode(r,{type:"right",size:"25"})])],8,["onClick"])])))),256))])}}},[["__scopeId","data-v-beeae9ca"]]),te=n({__name:"songMenu",props:{menu:{type:Object,default:{}}},setup(t){const n=t,a=()=>{uni.navigateTo({url:`/pages/mainDetail/mainDetail?type=menu&id=${n.menu.id}`})};return(n,o)=>(e.openBlock(),e.createElementBlock("view",{class:"songMenu",onClick:a},[e.createElementVNode("view",{class:"image"},[e.createElementVNode("image",{class:"Img",src:t.menu.coverImgUrl,mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"playCount"},e.toDisplayString(e.unref(X)(t.menu.playCount)),1)]),e.createElementVNode("view",{class:"title"},e.toDisplayString(t.menu.name),1)]))}},[["__scopeId","data-v-89ab01ca"]]),ne=n({__name:"areaMenu",props:{title:{type:String,default:""},hotSongMenu:{type:Array,default:[]}},setup(t){const n=()=>{uni.navigateTo({url:"/pages/menuMore/menuMore"})};return(a,o)=>{const i=s(e.resolveDynamicComponent("areaHeader"),S),c=s(e.resolveDynamicComponent("songMenu"),te);return e.openBlock(),e.createElementBlock("view",{class:"hotSongMenu"},[e.createVNode(i,{title:t.title,onMoreClkEmit:n},null,8,["title"]),e.createElementVNode("view",{class:"menuList"},[e.createElementVNode("scroll-view",{class:"scroll-view_H","scroll-x":"true","show-scrollbar":!1},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.hotSongMenu,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,class:"menuItem"},[e.createVNode(c,{menu:t},null,8,["menu"])])))),128))])])])}}},[["__scopeId","data-v-793c96ab"]]),ae=n({__name:"rankingItem",props:{rankingItem:{type:Object,default:{}},rankingName:{type:String,default:""}},setup(t){const n=t,a=()=>{uni.navigateTo({url:`/pages/mainDetail/mainDetail?type=ranking&key=${n.rankingName}&id=${n.rankingItem.id}`})};return(n,o)=>(e.openBlock(),e.createElementBlock("view",{class:"rankingItem",onClick:a},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.rankingItem.name),1),e.createElementVNode("view",{class:"songsList"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(3,(n=>e.createElementVNode("view",{key:n},[e.createElementVNode("view",{class:"song"},[e.createElementVNode("text",null,e.toDisplayString(n)+". ",1),e.createElementVNode("text",null,e.toDisplayString(t.rankingItem.tracks[n-1].name)+" - ",1),e.createElementVNode("text",null,e.toDisplayString(t.rankingItem.tracks[n-1].ar[0].name),1)])]))),64))])]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("view",{class:"Img"},[e.createElementVNode("image",{class:"image",src:t.rankingItem.coverImgUrl,mode:"heightFix"},null,8,["src"])]),e.createElementVNode("view",{class:"playCount"},e.toDisplayString(e.unref(X)(t.rankingItem.playCount)),1)])]))}},[["__scopeId","data-v-f94a7597"]]);let oe=null;function se(){return oe||(oe=uni.createInnerAudioContext()),oe}const ie=n({__name:"playerBar",setup(t){const n=se(),a=Z(),o=e.ref(null),s=()=>{a.isPlaying?(n.pause(),a.isPlaying=!1):(n.play(),a.isPlaying=!0)},i=()=>{uni.navigateTo({url:"/pages/musicPlayer/musicPlayer"})};return(t,n)=>e.unref(a).songDetail.al?(e.openBlock(),e.createElementBlock("view",{key:0,class:"playerBar",onClick:i},[e.createElementVNode("view",{class:e.normalizeClass(["album",{playing:e.unref(a).isPlaying}]),ref_key:"album",ref:o},[e.createElementVNode("image",{class:"albumImg",src:e.unref(a).songDetail.al.picUrl,mode:"heightFix"},null,8,["src"])],2),e.createElementVNode("view",{class:"songInfo"},e.toDisplayString(e.unref(a).songDetail.name),1),e.createElementVNode("view",{class:"controls"},[e.createElementVNode("image",{class:"pause",src:`/static/play_${e.unref(a).isPlaying?"pause02":"resume02"}.png`,onClick:[n[0]||(n[0]=e.withModifiers((()=>{}),["stop"])),s]},null,8,["src"]),e.createElementVNode("image",{class:"list",src:"/static/play_musicList.png"})])])):e.createCommentVNode("",!0)}},[["__scopeId","data-v-1ed28eca"]]),ce=n({__name:"tabBar",setup(t){const n=Q(),a=e=>{n.currentPage=e,o("log","at components/tabBar/tabBar.vue:27",n.currentPage);const t=`/pages/${e}/${e}`,a=getCurrentPages();"/"+a[a.length-1].route!==t&&uni.redirectTo({url:t})};return(t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"tabBar"},[e.createElementVNode("view",{class:"music",onClick:o[0]||(o[0]=e=>a("mainMusic"))},[e.createElementVNode("image",{src:"mainMusic"===e.unref(n).currentPage?"/static/music_active.png":"/static/music_normal.png",mode:"heightFix"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["text",{active:"mainMusic"===e.unref(n).currentPage}])},"音乐",2)]),e.createElementVNode("view",{class:"video",onClick:o[1]||(o[1]=e=>a("mainVideo"))},[e.createElementVNode("image",{src:"mainVideo"===e.unref(n).currentPage?"/static/video_active.png":"/static/video_normal.png",mode:"heightFix"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["text",{active:"mainVideo"===e.unref(n).currentPage}])},"视频",2)])]))}},[["__scopeId","data-v-cf1789b6"]]),le={__name:"mainMusic",setup(t){const n=e.ref(!1);e.watch(n,(()=>{n.value&&uni.navigateTo({url:"/pages/mainSearch/mainSearch"})}));const a=Q();a.getBannerList(),a.getRecommendSongs();const o=()=>{uni.navigateTo({url:"/pages/mainDetail/mainDetail?type=recommend"})};return a.getSongMenu(),a.getRankingList(),(t,i)=>{const c=s(e.resolveDynamicComponent("uni-search-bar"),N),l=s(e.resolveDynamicComponent("areaHeader"),S),r=s(e.resolveDynamicComponent("songRecommend"),ee),u=s(e.resolveDynamicComponent("areaMenu"),ne),d=s(e.resolveDynamicComponent("rankingItem"),ae),m=s(e.resolveDynamicComponent("playerBar"),ie),f=s(e.resolveDynamicComponent("tabBar"),ce);return e.openBlock(),e.createElementBlock("view",{class:"mainMusic"},[e.createVNode(c,{radius:"100",placeholder:"请输入搜素关键词",clearButton:"none",cancelButton:"none",onFocus:i[0]||(i[0]=e=>n.value=!0),onBlur:i[1]||(i[1]=e=>n.value=!1)}),e.createElementVNode("view",{class:"swiper-list"},[e.createElementVNode("swiper",{class:"swiper",circular:"","indicator-dots":!0,autoplay:!0,interval:2e3,duration:500},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a).bannerList,(t=>(e.openBlock(),e.createElementBlock("swiper-item",null,[e.createElementVNode("image",{class:"image",src:t},null,8,["src"])])))),256))])]),e.createVNode(l,{title:"歌曲推荐",onMoreClkEmit:o}),e.createVNode(r,{songs:e.unref(a).recommendSongs},null,8,["songs"]),e.createVNode(u,{title:"热门歌单",hotSongMenu:e.unref(a).hotMenu},null,8,["hotSongMenu"]),e.createVNode(u,{title:"推荐歌单",hotSongMenu:e.unref(a).recommendMenu},null,8,["hotSongMenu"]),e.unref(a).rankingMenuList.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"ranking"},[e.createVNode(l,{title:"巅峰榜",isMore:!1}),e.createElementVNode("view",{class:"rankingList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a).rankingMenuList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createVNode(d,{rankingItem:t,rankingName:t.name},null,8,["rankingItem","rankingName"])])))),128))])])):e.createCommentVNode("",!0),e.createVNode(m,{class:"playerBar"}),e.createVNode(f)])}}},re=n({__name:"searchHot",props:{searchHotList:{type:Array,default:[]}},emits:["searchHotItemEmit"],setup(t,{emit:n}){const a=n;return(n,o)=>{const i=s(e.resolveDynamicComponent("areaHeader"),S);return e.openBlock(),e.createElementBlock("view",{class:"hotSearch"},[e.createVNode(i,{title:"热门搜索",isMore:!1}),e.createElementVNode("view",{class:"hotList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.searchHotList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"item",onClick:e=>(e=>{const t=e.first;a("searchHotItemEmit",t)})(t)},[e.createElementVNode("view",{class:e.normalizeClass({index:!0,active:n<3})},e.toDisplayString(n+1),3),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.first),1)],8,["onClick"])])))),128))])])}}},[["__scopeId","data-v-c3c53384"]]),ue=n({__name:"songItem",props:{songsList:{type:Object,default:{}}},setup(t){const n=t,a=Z();return(s,i)=>(e.openBlock(),e.createElementBlock("view",{class:"songItems"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.songsList,((t,s)=>(e.openBlock(),e.createElementBlock("view",{key:s},[e.createElementVNode("view",{class:"song",onClick:e=>((e,t)=>{o("log","at components/songItem/songItem.vue:34","歌曲点击"),a.songList=n.songsList,a.songIndex=t,uni.navigateTo({url:`/pages/musicPlayer/musicPlayer?id=${e.id}`})})(t,s)},[e.createElementVNode("view",{class:"index"},e.toDisplayString(s+1),1),e.createElementVNode("view",{class:"songItem"},[e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"info"},[e.createElementVNode("image",{class:"sq",src:"/static/sq_icon.png",mode:"widthFix"}),e.createElementVNode("view",{class:"artist"},e.toDisplayString(t.ar[0].name),1)])])],8,["onClick"])])))),128))]))}},[["__scopeId","data-v-f4a9f494"]]),de={__name:"searchResult",props:{songs:{type:Array,default:[]}},setup:t=>(n,a)=>{const o=s(e.resolveDynamicComponent("areaHeader"),S),i=s(e.resolveDynamicComponent("songItem"),ue);return e.openBlock(),e.createElementBlock("view",{class:"searchResult"},[e.createVNode(o,{title:"单曲",isMore:!1}),e.createVNode(i,{songsList:t.songs},null,8,["songsList"])])}},me=n({__name:"searchSuggest",props:{searchSuggest:{type:Array,default:[]}},emits:["searchSuggestItemEmit"],setup(t,{emit:n}){const o=n;return(n,i)=>{const c=s(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:"searchSuggest"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.searchSuggest,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"item",onClick:e=>{return n=t.name,void o("searchSuggestItemEmit",n);var n}},[e.createElementVNode("view",{class:"icon"},[e.createVNode(c,{type:"search",size:"30"})]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)],8,["onClick"])])))),128))])}}},[["__scopeId","data-v-6d0cdc0f"]]),fe={__name:"mainSearch",setup(t){c((()=>{a()}));const n=e.reactive({searchHotList:[],searchSuggest:[],searchSongs:[],keyword:"",isFocus:!1}),a=async()=>{const e=(await G.get({url:"/search/hot"})).data.result.hots;n.searchHotList=e},o=e=>{n.keyword=e,m()},i=()=>{n.isFocus=!0,n.searchSongs=[],n.keyword=""},l=()=>{n.isFocus=!1},u=async e=>{if(n.keyword=e,!e)return void(n.searchSuggest=[]);var t;const a=(await(t=e,G.get({url:`/search/suggest?keywords=${t}`}))).data.result.songs;n.searchSuggest=a??[]},d=e=>{n.keyword=e,m()},m=async(e=!1,t=0)=>{const a=n.keyword;if(!a)return;const o=await function(e,t){return G.get({url:`/cloudsearch?keywords=${e}&offset=${t}`})}(a,t),s=o.data.result.songs;e?n.searchSongs.push(...s):n.searchSongs=s};return r((()=>{m(!0,n.searchSongs.length)})),(t,a)=>{const c=s(e.resolveDynamicComponent("uni-search-bar"),N),r=s(e.resolveDynamicComponent("searchHot"),re),f=s(e.resolveDynamicComponent("searchResult"),de),p=s(e.resolveDynamicComponent("searchSuggest"),me),g=s(e.resolveDynamicComponent("playerBar"),ie);return e.openBlock(),e.createElementBlock("view",{class:"mainSearch"},[e.createVNode(c,{placeholder:"请输入搜索关键词",onInput:u,onFocus:i,onBlur:l,onConfirm:m}),0===n.searchSuggest.length&&0===n.searchSongs.length?(e.openBlock(),e.createBlock(r,{key:0,searchHotList:n.searchHotList,onSearchHotItemEmit:o},null,8,["searchHotList"])):e.createCommentVNode("",!0),!n.isFocus&&n.searchSongs.length>0?(e.openBlock(),e.createBlock(f,{key:1,songs:n.searchSongs},null,8,["songs"])):(e.openBlock(),e.createBlock(p,{key:2,searchSuggest:n.searchSuggest,onSearchSuggestItemEmit:d},null,8,["searchSuggest"])),e.createVNode(g)])}}},pe=n({__name:"menuHeader",props:{menuInfo:{type:Object,default:{}}},setup:t=>(n,o)=>{const i=s(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:"menuHeader"},[e.createElementVNode("view",{class:"bgImg"},[e.createElementVNode("image",{class:"image",src:t.menuInfo.coverImgUrl,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("image",{class:"image",src:t.menuInfo.coverImgUrl,mode:""},null,8,["src"])]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.menuInfo.description),1),e.createElementVNode("view",{class:"creator"},[e.createElementVNode("image",{class:"creatorImage",src:t.menuInfo.creator.avatarUrl,mode:""},null,8,["src"]),e.createElementVNode("view",{class:"creatorName"},e.toDisplayString(t.menuInfo.creator.nickname),1)]),e.createElementVNode("view",{class:"desc"},"简介："+e.toDisplayString(t.menuInfo.description),1)])]),e.createElementVNode("view",{class:"other"},[e.createElementVNode("view",{class:"subCount"},[e.createVNode(i,{type:"heart",size:"20",color:"#fff"}),e.createElementVNode("view",{class:"count"},e.toDisplayString(t.menuInfo.subscribedCount),1)]),e.createElementVNode("view",{class:"shareCount"},[e.createVNode(i,{type:"undo",size:"20",color:"#fff"}),e.createElementVNode("view",{class:"count"},e.toDisplayString(t.menuInfo.shareCount),1)])])])])}},[["__scopeId","data-v-a78613ff"]]),ge=n({__name:"singerInfo",props:{singerInfo:{type:Object,default:{}}},setup(t){const n=t,a=e.reactive({bgImg:"",leftImg:"",rightImg:"",nikeName:"",name:""});return n.singerInfo.user?(a.bgImg=n.singerInfo.user.backgroundUrl,a.leftImg=n.singerInfo.user.avatarUrl,a.rightImg=n.singerInfo.artist.cover,a.nikeName=n.singerInfo.user.nickname,a.name=n.singerInfo.artist.name):(a.bgImg=n.singerInfo.artist.avatar,a.leftImg=n.singerInfo.artist.avatar,a.rightImg=n.singerInfo.artist.cover,a.nikeName=n.singerInfo.artist.name,a.name=n.singerInfo.artist.name),(n,o)=>(e.openBlock(),e.createElementBlock("view",{class:"menuHeader"},[e.createElementVNode("view",{class:"bgImg"},[e.createElementVNode("image",{class:"image",src:a.bgImg,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"left"},[e.createElementVNode("image",{class:"image",src:a.leftImg,mode:""},null,8,["src"])]),e.createElementVNode("view",{class:"right"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(a.nikeName),1),e.createElementVNode("view",{class:"creator"},[e.createElementVNode("image",{class:"creatorImage",src:a.rightImg,mode:""},null,8,["src"]),e.createElementVNode("view",{class:"creatorName"},e.toDisplayString(a.name),1)]),e.createElementVNode("view",{class:"desc"},"简介："+e.toDisplayString(t.singerInfo.artist.briefDesc),1)])])])]))}},[["__scopeId","data-v-a63dfba5"]]),he={__name:"mainDetail",setup(t){const n=e.reactive({songsInfo:{},songs:[],type:"",key:"",id:0}),a=Q(),i=Z();return c((async e=>{o("log","at pages/mainDetail/mainDetail.vue:29","options=",e),e.type&&(n.type=e.type),"recommend"===e.type?(uni.setNavigationBarTitle({title:"热歌榜"}),await a.getRecommendSongs(),n.songs=a.recommendSongs):"menu"===e.type?(uni.setNavigationBarTitle({title:"歌单"}),await a.getMenuInfo(e.id),n.songsInfo=a.menuInfo,n.songs=a.menuInfo.tracks):"ranking"===e.type?(uni.setNavigationBarTitle({title:e.key??""}),await a.getRankingSongs(e.id),n.songs=a.rankingSongs):"singer"===e.type&&(o("log","at pages/mainDetail/mainDetail.vue:47","搜索歌手歌单"),uni.setNavigationBarTitle({title:`${i.singerDetail.artist.name}`}),n.songs=await i.getSingerSongs())})),(t,a)=>{const o=s(e.resolveDynamicComponent("menuHeader"),pe),c=s(e.resolveDynamicComponent("singerInfo"),ge),l=s(e.resolveDynamicComponent("songItem"),ue),r=s(e.resolveDynamicComponent("playerBar"),ie);return e.openBlock(),e.createElementBlock("view",{class:"mainDetail"},["menu"===n.type&&n.songsInfo.coverImgUrl?(e.openBlock(),e.createBlock(o,{key:0,menuInfo:n.songsInfo},null,8,["menuInfo"])):"singer"===n.type?(e.openBlock(),e.createBlock(c,{key:1,singerInfo:e.unref(i).singerDetail},null,8,["singerInfo"])):e.createCommentVNode("",!0),e.createVNode(l,{songsList:n.songs},null,8,["songsList"]),e.createVNode(r)])}}},ye={__name:"menuMore",setup(t){const n=e.ref([]);c((()=>{a()}));const a=async()=>{const e=await G.get({url:"/playlist/hot"}),t=[];for(const n of e.data.tags)t.push(J(n.name));Promise.all(t).then((e=>{n.value=e}))};return(t,a)=>{const o=s(e.resolveDynamicComponent("areaHeader"),S),i=s(e.resolveDynamicComponent("songMenu"),te),c=s(e.resolveDynamicComponent("playerBar"),ie);return e.openBlock(),e.createElementBlock("view",{class:"menuMore"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"menuCard"},[e.createVNode(o,{title:t.data.cat,isMore:!1},null,8,["title"]),e.createElementVNode("view",{class:"menuList"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data.playlists,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n,class:"menu"},[e.createVNode(i,{menu:t},null,8,["menu"])])))),128))])])])))),128)),e.createVNode(c)])}}};const ve=e=>"number"==typeof e?e+"px":e;const ke=n({name:"UniNavBar",components:{statusBar:n({name:"UniStatusBar",data:()=>({statusBarHeight:uni.getSystemInfoSync().statusBarHeight+"px"})},[["render",function(t,n,a,o,s,i){return e.openBlock(),e.createElementBlock("view",{style:e.normalizeStyle({height:s.statusBarHeight}),class:"uni-status-bar"},[e.renderSlot(t.$slots,"default",{},void 0,!0)],4)}],["__scopeId","data-v-4539ef65"]])},emits:["clickLeft","clickRight","clickTitle"],props:{dark:{type:Boolean,default:!1},title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:""},backgroundColor:{type:String,default:""},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},height:{type:[Number,String],default:44},leftWidth:{type:[Number,String],default:60},rightWidth:{type:[Number,String],default:60},showMenuButtonWidth:{type:Boolean,default:!1},stat:{type:[Boolean,String],default:""}},data:()=>({navWidth:"auto"}),computed:{themeBgColor(){return this.dark?this.backgroundColor?this.backgroundColor:this.dark?"#333":"#FFF":this.backgroundColor||"#FFF"},themeColor(){return this.dark?this.color?this.color:this.dark?"#fff":"#333":this.color||"#333"},navbarHeight(){return this.fixed&&0===this.height?ve(44):ve(this.height)},leftIconWidth(){return ve(this.leftWidth)},rightIconWidth(){return ve(this.rightWidth)}},created(){},mounted(){uni.report&&this.stat&&""!==this.title&&uni.report("title",this.title)},methods:{onClickLeft(){this.$emit("clickLeft")},onClickRight(){this.$emit("clickRight")},onClickTitle(){this.$emit("clickTitle")}}},[["render",function(t,n,o,i,c,l){const r=e.resolveComponent("status-bar"),u=s(e.resolveDynamicComponent("uni-icons"),a);return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["uni-navbar",{"uni-dark":o.dark,"uni-nvue-fixed":o.fixed}])},[e.createElementVNode("view",{class:e.normalizeClass(["uni-navbar__content",{"uni-navbar--fixed":o.fixed,"uni-navbar--shadow":o.shadow,"uni-navbar--border":o.border}]),style:e.normalizeStyle({"background-color":l.themeBgColor})},[o.statusBar?(e.openBlock(),e.createBlock(r,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{style:e.normalizeStyle({color:l.themeColor,backgroundColor:l.themeBgColor,height:l.navbarHeight,width:o.showMenuButtonWidth?c.navWidth+"px":"100%"}),class:"uni-navbar__header"},[e.createElementVNode("view",{onClick:n[0]||(n[0]=(...e)=>l.onClickLeft&&l.onClickLeft(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-left",style:e.normalizeStyle({width:l.leftIconWidth})},[e.renderSlot(t.$slots,"left",{},(()=>[o.leftIcon.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__content_view"},[e.createVNode(u,{color:l.themeColor,type:o.leftIcon,size:"20"},null,8,["color","type"])])):e.createCommentVNode("",!0),o.leftText.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass([{"uni-navbar-btn-icon-left":!o.leftIcon.length>0},"uni-navbar-btn-text"])},[e.createElementVNode("text",{style:e.normalizeStyle({color:l.themeColor,fontSize:"12px"})},e.toDisplayString(o.leftText),5)],2)):e.createCommentVNode("",!0)]),!0)],4),e.createElementVNode("view",{class:"uni-navbar__header-container",onClick:n[1]||(n[1]=(...e)=>l.onClickTitle&&l.onClickTitle(...e))},[e.renderSlot(t.$slots,"default",{},(()=>[o.title.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__header-container-inner"},[e.createElementVNode("text",{class:"uni-nav-bar-text uni-ellipsis-1",style:e.normalizeStyle({color:l.themeColor})},e.toDisplayString(o.title),5)])):e.createCommentVNode("",!0)]),!0)]),e.createElementVNode("view",{onClick:n[2]||(n[2]=(...e)=>l.onClickRight&&l.onClickRight(...e)),class:"uni-navbar__header-btns uni-navbar__header-btns-right",style:e.normalizeStyle({width:l.rightIconWidth})},[e.renderSlot(t.$slots,"right",{},(()=>[o.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createVNode(u,{color:l.themeColor,type:o.rightIcon,size:"22"},null,8,["color","type"])])):e.createCommentVNode("",!0),o.rightText.length&&!o.rightIcon.length?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-navbar-btn-text"},[e.createElementVNode("text",{class:"uni-nav-bar-right-text",style:e.normalizeStyle({color:l.themeColor})},e.toDisplayString(o.rightText),5)])):e.createCommentVNode("",!0)]),!0)],4)],4)],6),o.fixed?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-navbar__placeholder"},[o.statusBar?(e.openBlock(),e.createBlock(r,{key:0})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"uni-navbar__placeholder-view",style:e.normalizeStyle({height:l.navbarHeight})},null,4)])):e.createCommentVNode("",!0)],2)}],["__scopeId","data-v-18fbea83"]]),_e={__name:"musicPlayer",setup(t){const n=se(),a=e.reactive({id:0,titleConfig:["歌曲","歌词"],contentHeight:100,currentPage:0,isShow:!1}),i=Z();let r=null;c((async e=>{i.isFirstPlay&&(i.isFirstPlay=!1,n.onEnded(d));const t=e.id,o=uni.getSystemInfoSync().windowHeight;a.contentHeight=o-44,t?g(t):a.isShow=!0,r=setInterval(h,500)}));const u=()=>{i.isPlaying?(n.pause(),i.isPlaying=!1):(n.play(),i.isPlaying=!0)},d=()=>{f()},m=()=>{f(!1)},f=(e=!0)=>{let t=i.songIndex;const n=i.songList.length;switch(i.currentOrder){case 0:t=e?t+1:t-1,t=(t+n)%n;break;case 1:break;case 2:t=Math.floor(Math.random()*n)}i.songIndex=t;const a=i.songList[t].id;g(a)},p=()=>{let e=i.currentOrder;e=(e+1)%3,i.currentOrder=e,i.currentOrderName=["order","repeat","random"][e]},g=async e=>{const t=await function(e){return new Promise(((t,n)=>{uni.request({url:`https://api.vkeys.cn/v2/music/netease?id=${e}`,success:e=>t(e),fail:e=>n(e)})}))}(e);try{if(o("log","at pages/musicPlayer/musicPlayer.vue:167",t),200!==t.data.code)throw new Error("HTTP error! status");const e=t.data.data.url;n.src=e}catch(s){o("log","at pages/musicPlayer/musicPlayer.vue:175","报错",s),o("log","at pages/musicPlayer/musicPlayer.vue:176","启动非代理url"),n.src=`https://music.163.com/song/media/outer/url?id=${e}.mp3`}await i.getSongs(e),a.isShow=!0,n.stop(),n.autoplay=!0,n.play()},h=()=>{if(i.isSlide)return;const e=1e3*n.currentTime;i.currentTime=e;const t=i.currentTime/i.durationTime*100;i.sliderLength=t;const a=i.lyricsList;let o=a.length-1;for(let s=0;s<a.length;s++)if(a[s].time>1e3*n.currentTime){o=s-1;break}if(i.currentIndex!==o&&(i.currentIndex=o,a[o])){const e=a[o].text??"";i.currentLyrics=e,i.scrollToTop=40*o}},y=()=>{uni.navigateBack()},v=e=>{const t=e.detail.value/100*i.durationTime;n.seek(t/1e3),i.currentTime=t,i.isSlide=!1},k=e=>{i.isSlide=!0},_=e=>{a.currentPage=e.detail.current},w=async()=>{o("log","at pages/musicPlayer/musicPlayer.vue:233","搜索歌手",i.singerId),await i.getSearchSingerInfo(),uni.redirectTo({url:`/pages/mainDetail/mainDetail?type=singer&id=${i.singerId}`})};return l((()=>{clearInterval(r)})),uni.setKeepScreenOn({keepScreenOn:!0,success:()=>{o("log","at pages/musicPlayer/musicPlayer.vue:247","保持常亮")}}),(t,n)=>{const o=s(e.resolveDynamicComponent("uni-nav-bar"),ke);return a.isShow?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",{class:"musicPlayer"},[e.createElementVNode("image",{class:"backgroundImg",src:e.unref(i).songDetail.al.picUrl,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"backgroundMask"}),e.createVNode(o,{"background-color":"transparent",class:"navBar",border:!1,"left-icon":"left",color:"#fff",onClickLeft:y},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"center"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.titleConfig,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:"text"},[e.createElementVNode("text",{class:e.normalizeClass({active:a.currentPage===n}),onClick:e=>a.currentPage=n},e.toDisplayString(t),11,["onClick"]),0===n?(e.openBlock(),e.createElementBlock("text",{key:0,class:"line"},"|")):e.createCommentVNode("",!0)])])))),128))])])),_:1}),e.createElementVNode("swiper",{onChange:_,style:e.normalizeStyle(`height: ${a.contentHeight}px;`),current:a.currentPage},[e.createElementVNode("swiper-item",{class:"musicPage"},[e.createElementVNode("view",{class:"album"},[e.createElementVNode("image",{class:"albumImg",src:e.unref(i).songDetail.al.picUrl,mode:"widthFix"},null,8,["src"])]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(e.unref(i).songDetail.name),1),e.createElementVNode("view",{class:"artist",onClick:w},e.toDisplayString(e.unref(i).songDetail.ar[0].name),1)]),e.createElementVNode("view",{class:"lyrics"},e.toDisplayString(e.unref(i).currentLyrics),1),e.createElementVNode("slider",{class:"slider","block-size":"15",value:e.unref(i).sliderLength,onChange:v,onChanging:k},null,40,["value"]),e.createElementVNode("view",{class:"songTime"},[e.createElementVNode("view",{class:"start"},e.toDisplayString(e.unref(Y)(e.unref(i).currentTime)),1),e.createElementVNode("view",{class:"end"},e.toDisplayString(e.unref(Y)(e.unref(i).durationTime)),1)]),e.createElementVNode("view",{class:"controls"},[e.createElementVNode("image",{class:"order",src:`/static/play_${e.unref(i).currentOrderName}.png`,onClick:p},null,8,["src"]),e.createElementVNode("image",{class:"prev",src:"/static/play_prev.png",onClick:m}),e.createElementVNode("image",{class:"pause",src:`/static/play_${e.unref(i).isPlaying?"pause":"resume"}.png`,onClick:u},null,8,["src"]),e.createElementVNode("image",{class:"next",src:"/static/play_next.png",onClick:d}),e.createElementVNode("image",{class:"list",src:"/static/play_music.png"})])]),e.createElementVNode("swiper-item",{class:"musicLyrics"},[e.createElementVNode("scroll-view",{class:"lyrics","scroll-y":"","scroll-top":e.unref(i).scrollToTop,"scroll-with-animation":"","show-scrollbar":"false"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(i).lyricsList,((t,n)=>(e.openBlock(),e.createElementBlock("view",{key:n},[e.createElementVNode("view",{class:e.normalizeClass("lyricItem "+(n===e.unref(i).currentIndex?"active":"")),style:e.normalizeStyle(`margin-top: ${0===n?a.contentHeight-40:0}rpx; \n\t\t\t\t\t\t\t\tpadding-bottom: ${n===e.unref(i).lyricsList.length-1?a.contentHeight+40:0}rpx;`)},e.toDisplayString(t.text),7)])))),128))],8,["scroll-top"])])],44,["current"])])])):e.createCommentVNode("",!0)}}},we=n({__name:"videoItem",props:{item:{type:Object,default:{}}},setup(t){const n=t,a=()=>{uni.navigateTo({url:`/pages/videoDetail/videoDetail?id=${n.item.id}`})};return(n,o)=>(e.openBlock(),e.createElementBlock("view",{class:"videoItem",onClick:a},[e.createElementVNode("view",{class:"Img"},[e.createElementVNode("image",{class:"img",src:t.item.cover,mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"viewCount"},e.toDisplayString(e.unref(X)(t.item.playCount)),1),e.createElementVNode("view",{class:"duration"},e.toDisplayString(e.unref(Y)(t.item.mv.videos[0].duration)),1)])]),e.createElementVNode("view",{class:"desc"},e.toDisplayString(t.item.name)+" - "+e.toDisplayString(t.item.artistName),1)]))}},[["__scopeId","data-v-152db20e"]]);const Ee={__name:"mainVideo",setup(t){const n=e.reactive({videoList:[],offset:0,hasMore:!0}),a=async e=>{const t=await function(e=0,t=20){return G.get({url:"/top/mv",data:{limit:t,offset:e}})}(e),a=[...n.videoList,...t.data.data];n.videoList=a,n.offset=n.videoList.length,n.hasMore=t.data.hasMore};return c((()=>{a(n.offset)})),r((()=>{n.hasMore&&a(n.offset)})),u((async()=>{n.videoList=[],n.offset=0,n.hasMore=!0,await a(n.offset),uni.stopPullDownRefresh(),o("log","at pages/mainVideo/mainVideo.vue:43","下拉刷新")})),(t,a)=>{const o=s(e.resolveDynamicComponent("videoItem"),we),i=s(e.resolveDynamicComponent("tabBar"),ce);return e.openBlock(),e.createElementBlock("view",{class:"video"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.videoList,((t,n)=>(e.openBlock(),e.createBlock(o,{key:n,class:"videoItem",item:t},null,8,["item"])))),128)),e.createVNode(i)])}}},Ve={__name:"videoDetail",setup(t){const n=e.reactive({id:-1,url:"",videoInfo:{}});c((async e=>{const t=e.id;n.id=t,a(),await s(),i(),o("log","at pages/videoDetail/videoDetail.vue:45",n),uni.setNavigationBarTitle({title:n.videoInfo.name})}));const a=async()=>{const e=await(t=n.id,G.get({url:"/mv/url",data:{id:t}}));var t;n.url=e.data.data.url},s=async()=>new Promise((async e=>{const t=await(a=n.id,G.get({url:"/mv/detail",data:{mvid:a}}));var a;n.videoInfo=t.data.data,e(t)})),i=async()=>{var e;await(e=n.id,G.get({url:"/related/allvideo",data:{id:e}}))};return(t,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("video",{class:"video",src:n.url,autoplay:""},null,8,["src"]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(n.videoInfo.name),1),e.createElementVNode("view",{class:"author"},e.toDisplayString(n.videoInfo.artistName),1),e.createElementVNode("view",{class:"other"},[e.createElementVNode("view",{class:"playCount"},e.toDisplayString(e.unref(X)(n.videoInfo.playCount))+"次播放-",1),e.createElementVNode("view",{class:"subCount"},e.toDisplayString(e.unref(X)(n.videoInfo.subCount))+"次收藏-",1),e.createElementVNode("view",{class:"date"},e.toDisplayString(n.videoInfo.publishTime),1)]),e.createElementVNode("view",{class:"singerList"},[e.createElementVNode("view",{class:"artists"},"歌手列表"),e.createElementVNode("view",{class:"list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.videoInfo.artists,((t,n)=>(e.openBlock(),e.createElementBlock("view",{class:"singer",key:n},[e.createElementVNode("view",{class:"Img"},[e.createElementVNode("image",{src:t.img1v1Url,mode:""},null,8,["src"])]),e.createElementVNode("view",{class:"name"},e.toDisplayString(t.name),1)])))),128))])])])],64))}};__definePage("pages/mainMusic/mainMusic",le),__definePage("pages/mainSearch/mainSearch",fe),__definePage("pages/mainDetail/mainDetail",he),__definePage("pages/menuMore/menuMore",ye),__definePage("pages/musicPlayer/musicPlayer",_e),__definePage("pages/mainVideo/mainVideo",Ee),__definePage("pages/videoDetail/videoDetail",Ve);const Ne={onLaunch:function(){o("log","at App.vue:4","App Launch")},onShow:function(){o("log","at App.vue:7","App Show")},onHide:function(){o("log","at App.vue:10","App Hide")}};const{app:Se,Vuex:Be,Pinia:be}=function(){const t=e.createVueApp(Ne);return t.use(P()),{app:t,Pinia:q}}();uni.Vuex=Be,uni.Pinia=be,Se.provide("__globalStyles",__uniConfig.styles),Se._component.mpType="app",Se._component.render=()=>{},Se.mount("#app")}(Vue);
